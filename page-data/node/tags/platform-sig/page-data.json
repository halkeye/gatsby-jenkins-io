{
    "componentChunkName": "component---src-templates-tag-blog-list-template-js",
    "path": "/node/tags/platform-sig",
    "result": {"data":{"allBlog":{"edges":[{"node":{"date":"2021-02-08T00:00:00.000Z","id":"cf843c22-ea33-5664-9347-9c1a8010c2ed","slug":"/blog/2021/02/08/docker-base-os-upgrade/","strippedHtml":"Beginning with Jenkins 2.279 and Jenkins 2.263.4, the Jenkins project is upgrading the base operating system and Java version used in the jenkins/jenkins:latest and jenkins/jenkins:lts images.\nThe update replaces OpenJDK 8u242 with AdoptOpenJDK 8u282 and replaces Debian 9 (\"Stretch\") with Debian 10 (\"Buster\").\n\nWhy?\n\nWe’re changing the base image so that we have a better supported operating system and a more current Java release for Jenkins controllers.\n\nBetter supported operating system\n\nThe Docker images provided by the Jenkins project rely on the operating system security processes of the operating system provider.\n\nOur Docker images have used Debian 9 (\"Stretch\") for multiple years.\nDebian 9 security updates have been discontinued as of July 6, 2020.\nDebian 9 Long Term Support security updates will be discontinued at the end of June 2022.\nThe upgrade to Debian 10 keeps us on an operating system maintained by the operating system security team.\n\nMore current Java release\n\nThe Debian 9 Docker images were based on the openjdk:8-jdk-stretch Docker image.\nThe last update to that image was one year ago with the release of JDK 8u242.\nWe need a maintained Docker base image that keeps pace with JDK releases and operating system updates so that the controller is running the most recent Java updates and most recent operating system updates.\n\nOther Jenkins controller images have already switched from using openjdk base images to instead use base images provided by Eclipse Adoptium.\nEclipse Adoptium is the Eclipse project formed when AdoptOpenJDK joined the Eclipse Foundation.\nThis change adapts the jenkins/jenkins:latest and jenkins/jenkins:lts images to use the Adoptium JDK images in the same pattern as is already used for the Jenkins JDK 11 Docker images like jenkins/jenkins:lts-jdk11.\nThe Jenkins Platform SIG has enjoyed very good results in our interactions with the Eclipse Adoptium project.\nWe look forward to continuing our collaboration with them.\n\nThanks a lot to Alex Earl and Jim Crowley for the image build restructuring groundwork that made the image upgrade possible!\nAlso thanks to Oleg Nenashev and other contributors for their reviews and testing.\n\nPackaging changes\n\nThe Jenkins Docker image based on Debian 10 (\"Buster\") includes some different packages than Debian 9 (\"Stretch\").\nSome packages have been removed because they are no longer supported by their communities.\nSome packages have been removed due to infrequent and decreasing use.\nUsers of the Jenkins Docker images may need to extend their definition of their Docker image to include packages that are no longer included in the base image.\n\nSCM packages removed\n\nThe following source control management packages are no longer included in the Jenkins controller images for jenkins/jenkins:latest or for jenkins/jenkins:lts :\n\nbzr\n\nmercurial\n\nsubversion\n\nOther packages removed\n\nAdditional packages that are no longer included in the Jenkins controller images include:\n\nbzip2\n\nmime-support\n\npython (the Python project stopped supporting Python 2 January 1, 2020)\n\nxz-utils\n\nA detailed list of the exact package changes is available in the pull request.\n\nUpgrade and compatibility notes\n\nThe Jenkins controller images are designed to be extended to meet user needs.\nCustom Jenkins controller images can be created from the base images and are designed to allow additional Jenkins plugins and additional operating system packages.\n\nFor example, the Installing Docker instructions illustrate a technique to install the Blue Ocean plugins and some operating system packages in a custom Docker image.\n\nDocker image with Subversion\n\nThe following Docker image definition installs the most recent Jenkins Long Term Support release with the subversion plugin and the operating system subversion command:\n\nFROM jenkins/jenkins:lts\nUSER root\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends subversion\nUSER jenkins\nRUN jenkins-plugin-cli --plugins subversion:2.14.0\n\nBuild a new docker image from this Dockerfile and assign the image a meaningful name, e.g. \"myjenkins-subversion:1.1\":\n\ndocker build -t myjenkins-subversion:1.1 .\n\nDocker image with Mercurial\n\nThe following Docker image definition installs the most recent Jenkins Weekly release with the mercurial plugin and the operating system hg command:\n\nFROM jenkins/jenkins:latest\nUSER root\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends mercurial\nUSER jenkins\nRUN jenkins-plugin-cli --plugins mercurial:2.12\n\nBuild a new docker image from this Dockerfile and assign the image a meaningful name, e.g. \"myjenkins-mercurial:1.1\":\n\ndocker build -t myjenkins-mercurial:1.1 .\n\nWhat’s next?\n\nWe will continue Docker image updates as new Java versions are released.\n\nIf you are interested in new features in Jenkins Docker packaging,\nstay tuned for future announcements!\nThere are multiple ongoing initiatives which you can find on the public Jenkins roadmap.\nSome stories:\n\nSwitching to AdoptOpenJDK.\n\nGeneral availability of Windows images.\n\nSupport for more platforms (AArch64, IBM s390x, PowerPC).\n\nIntroducing multi-platform Docker images.\n\nIf you are interested in any of these projects and would like to contribute,\nplease reach out to the Platform Special Interest Group which coordinates initiatives related to Jenkins in Docker.","title":"Docker image updates","tags":["announcement","docker","platform-sig"],"authors":[{"avatar":{"childImageSharp":null},"blog":null,"github":"markewaite","html":"<div class=\"paragraph\">\n<p>Mark is the <a href=\"/project/team-leads/#documentation\">Jenkins Documentation Officer</a>, a long-time Jenkins user and contributor, and maintains the <a href=\"https://plugins.jenkins.io/git\">git plugin</a> and the <a href=\"https://plugins.jenkins.io/git-client\">git client plugin</a>.\nHe is active in <a href=\"/sigs/\">Jenkins special interest groups</a> including the <a href=\"/sigs/docs/\">Docs SIG</a>, <a href=\"/sigs/platform\">Platform SIG</a>, and <a href=\"/sigs/advocacy-and-outreach\">Advocacy SIG</a>.</p>\n</div>","id":"markewaite","irc":"markewaite","linkedin":"markwaite","name":"Mark Waite","slug":"blog/author/markewaite","twitter":"MarkEWaite"}]}},{"node":{"date":"2020-09-12T00:00:00.000Z","id":"a3ff4762-962b-5dfe-9279-693999cbe8b8","slug":"/blog/2020/09/12/new-jenkins-release-observations/","strippedHtml":"This article describes our observations during Windows testing of the Jenkins 2.249.1 release candidate.\n\nUpgrade testing\n\nJenkins 2.249.1 is a new long term support release with user interface improvements and changes in Windows support.\nIt is the first long term support release to drop support for Microsoft.NET framework 2.0.\nThe end of support for Microsoft.NET framework 2.0 was announced in the Windows Support Updates blog post.\nThe Windows support upgrade guidelines describe major things to consider when upgrading Jenkins controllers and agents on Windows.\n\nAs part of our preparation for the release, we tested several configurations.\nThis article describes our experiences with those configurations.\n\nUpgrade approaches\n\nWe tested controller and agent upgrades from Jenkins 2.235.x to 2.249.1-rc on Windows.\nThe tests included:\n\n32 bit Windows MSI\n\n64 bit Windows MSI\n\nWAR (file) on Windows\n\nUpgrade process\n\nOur upgrade process included:\n\nInstall a previous version of Jenkins controller on Windows\n\nInstall a previous version of Jenkins agent on Windows and configure it as a service\n\nUpgrade Jenkins controller from \"Manage Jenkins\"\n\nRestart the Jenkins Windows service for the controller\n\nUpgrade the Jenkins agent on Windows with the latest agent.jar\n\nRestart the Jenkins Windows service for the agent\n\nTesting results\n\nWe successfully tested\n\nRestarting Windows service for controller ( JENKINS-63198)\n\nRestarting Windows service for agents ( JENKINS-63223)\n\nWe confirmed that we can continue our Level 1 support policy for Jenkins 2.249.1.\n\n32 bit Windows MSI\n\nPrior to Jenkins 2.235.3, the Jenkins LTS Windows installer was provided as a 32 bit MSI and included a bundled Java 8 runtime environment.\nThe Jenkins agent can be downloaded and run through Java web start using the bundled Java 8 runtime environment.\nThe agent can also be configured to run as a service using the bundled Java 8 runtime environment.\n\nJenkins controller\n\nJenkins 2.235.1 installs JRE 8u144 for 32 bit Windows.\nThe installer configures the Jenkins controller to run as the SYSTEM user.\n\nRefer to the Windows Installer Updates blog post for details of the controller installation process with the 32 bit MSI.\n\nJenkins agent\n\nJenkins agents on Windows are often configured to \"Launch agent by connecting it to the master\".\nThe Jenkins agent configuration correctly warns that the controller must open the TCP port for inbound agents in the \"Configure Global Security\" page.\nIt is easiest to allow Jenkins to choose the port (a \"Random\" port).\nJenkins selects a random available port number and shares that port number with agents during their initial connection to the Jenkins http port.\n\nConfigure the agent\n\nOnce the Jenkins TCP port is open for inbound agents, a new agent is configured from the Jenkins \"Nodes\" menu\nThis creates an \"inbound Jenkins agent\" that uses the Jenkins agent.jar to initiate the connection to the Jenkins controller.\n\nDownload the agent\n\nThe agent starts the first time by clicking the \"Launch\" button on the agent configuration page (only available with Java 8).\nThat downloads the \"slave-agent.jnlp\" file from the web browser.\n\nStart the agent\n\nThe downloaded file needs to be opened from a command prompt using the javaws command that is included with the bundled JRE:\n\nC:\\> \"C:\\Program Files (x86)\\Jenkins\\jre\\bin\\javaws.exe\" -wait slave-agent.jnlp\n\nThe javaws program has been removed from  the most recent releases of Java 8 and from Java 11.\nRefer to [Jenkins agent and icedtea] for a technique that can help users of the most recent releases of Java 8.\n\nJava web start (javaws.exe) prompts for permission to run the program with this dialog:\n\nInstall the agent as a service\n\nThe agent runs and displays a window on the desktop with a single menu entry, \"Install as a service\".\n\nWhen the \"Install as a service\" menu item is clicked, the agent is adjusted to run as a Windows service using the SYSTEM account.\n\nUpgrade the controller\n\nThe Jenkins controller on Windows can be upgraded to Jenkins 2.249.1 from the \"Manage Jenkins\" page.\nThe upgrade process downloads the new jenkins.war file, saves the current version in case of later downgrade, and offers to restart.\n\nUpgrade the agent\n\nThe Jenkins inbound agent is not upgraded automatically.\nThe agent administrator downloads the most recent agent.jar from their Jenkins controller, stops the running agent, and replaces the installed agent.jar with the downloaded version.\nThe agent service will reconnect to the Jenkins controller after the administrator restarts it.\n\n64 bit Windows MSI\n\nBeginning with Jenkins 2.235.3, the Jenkins LTS Windows installer is a 64 bit MSI.\nIt runs Jenkins with the 64 bit JDK (Java 8 or Java 11) selected by the user.\n\nJenkins controller\n\nJenkins 2.235.3 was installed using AdoptOpenJDK Java 8u262 in one test.\nIt was installed using AdoptOpenJDK Java 11.0.8 in another test.\nIn both cases, the installer configured the Jenkins controller to run with the Windows service account we had previously configured.\n\nRefer to the Windows Installer Updates blog post for details of the controller installation process with the 64 bit MSI.\n\nJenkins agent\n\nJenkins agents on Windows are often configured to \"Launch agent by connecting it to the master\".\nThe Jenkins agent configuration correctly warns that the controller must open the TCP port for inbound agents in the \"Configure Global Security\" page.\nIt is easiest to allow Jenkins to choose the port (a \"Random\" port).\nJenkins selects a random available port number and shares that port number with agents during their initial connection to the Jenkins http port.\n\nConfigure the agent\n\nOnce the Jenkins TCP port is open for inbound agents, a new agent is configured from the Jenkins \"Nodes\" menu\nThis creates an \"inbound Jenkins agent\" that uses the Jenkins agent.jar to initiate the connection to the Jenkins controller.\nOnce the Jenkins TCP port is open for inbound agents, a new agent is configured from the Jenkins \"Nodes\" menu\nThis creates an \"inbound Jenkins agent\" that uses the Jenkins agent.jar to initiate the connection to the Jenkins controller.\nOnce the Jenkins TCP port is open for inbound agents, a new agent is configured from the Jenkins \"Nodes\" menu\nThis creates an \"inbound Jenkins agent\" that uses the Jenkins agent.jar to initiate the connection to the Jenkins controller.\n\nDownload the agent\n\nThe agent was started the first time by clicking the \"Launch\" button on the agent configuration page (only available with Java 8).\nThat downloads the \"slave-agent.jnlp\" file from the web browser.\n\nStart the agent with IcedTea-Web\n\nRecent versions of Java 8 and all versions of Java 11 have removed the javaws command.\nJenkins agents for Java 8 can still be started with the javaws command, but it needs to be downloaded separately from the JVM.\nWe open \"slave-agent.jnlp\" from a command prompt using the javaws command that is available from AdoptOpenJDK IcedTea :\n\nC:\\> C:\\icedtea-web-1.8.3.win.bin\\icedtea-web-image\\bin\\javaws.exe -wait slave-agent.jnlp\n\nJava web start (javaws.exe) prompts for permission to run the program with this dialog:\n\nInstall the agent as a service\n\nThe agent runs and displays a window on the desktop with a single menu entry, \"Install as a service\".\n\nWhen the \"Install as a service\" menu item is clicked, the agent is installed and configured to run as a Windows service using the SYSTEM account.\n\nUpgrading the controller\n\nThe Jenkins controller on Windows was upgraded to Jenkins 2.249.1 from the \"Manage Jenkins\" page.\nThe upgrade process downloads the new jenkins.war file, saves the current version in case of later downgrade, and offers to restart.\n\nUpgrading the agent\n\nThe Jenkins inbound agent is not upgraded automatically or from a Jenkins user interface.\nThe agent administrator downloads the most recent agent.jar from their Jenkins controller and replaces the installed agent.jar with the downloaded version.\n\nWAR (file) on Windows\n\nJenkins allows users to run the Jenkins web archive (WAR) file from a command line and then install it as a service from within Jenkins.\nThis installation technique uses the Jenkins WAR file but does not use a Windows MSI package.\nThe Jenkins WAR file includes the necessary components to install and configure Jenkins as a service.\n\nInstall controller as a service\n\nWhen the Jenkins war file is started from a Windows command prompt, \"Manage Jenkins\" includes \"Install as a service\".\nAn administrator selects that entry and Jenkins will configure itself to run as a service/\nThe installer configures the Jenkins controller to run as the SYSTEM user.\n\nJenkins agent\n\nJenkins agents on Windows are often configured to \"Launch agent by connecting it to the master\".\nThe Jenkins agent configuration correctly warns that the controller must open the TCP port for inbound agents in the \"Configure Global Security\" page.\nIt is easiest to allow Jenkins to choose the port (a \"Random\" port).\nJenkins selects a random available port number and shares that port number with agents during their initial connection to the Jenkins http port.\n\nConfigure the agent\n\nAfter opening the Jenkins TCP port for inbound agents, we configured a new agent from the \"Nodes\" menu\nThis created an \"inbound Jenkins agent\" that uses the Jenkins agent.jar to initiate the connection to the Jenkins controller.\n\nDownload the agent\n\nThe agent was started the first time by clicking the \"Launch\" button on the agent configuration page (only available with Java 8).\nThat downloads the \"slave-agent.jnlp\" file from the web browser.\n\nStart the agent with IcedTea-Web\n\nRecent versions of Java 8 and all versions of Java 11 have removed the javaws command.\nJenkins agents for Java 8 can still be started with the javaws command, but it needs to be downloaded separately from the JVM.\nOpen \"slave-agent.jnlp\" from a command prompt using the javaws command that is available from AdoptOpenJDK IcedTea-Web :\n\nC:\\> C:\\icedtea-web-1.8.3.win.bin\\icedtea-web-image\\bin\\javaws.exe -wait slave-agent.jnlp\n\nJava web start (javaws.exe) prompts for permission to run the program with this dialog:\n\nInstall the agent as a service\n\nThe agent runs and displays a window on the desktop with a single menu entry, \"Install as a service\".\n\nWhen the \"Install as a service\" menu item is clicked, the agent is installed and configured to run as a Windows service using the SYSTEM account.\n\nConclusion\n\nJenkins controller installation is best done with the new 64 bit MSI package.\nPrevious controller installations can be upgraded to the most recent Jenkins release from within Jenkins.\n\nJenkins inbound agent installation is more complicated now that the javaws.exe program is not included in the JDK.\nThe AdoptOpenJDK IcedTea-Web project allows administrators to install and configure Jenkins inbound agents with most of the ease that was available in prior Java releases.","title":"Testing Jenkins 2.249.1 on Windows","tags":["windows","platform-sig","installers","announcement"],"authors":[{"avatar":{"childImageSharp":null},"blog":null,"github":"markewaite","html":"<div class=\"paragraph\">\n<p>Mark is the <a href=\"/project/team-leads/#documentation\">Jenkins Documentation Officer</a>, a long-time Jenkins user and contributor, and maintains the <a href=\"https://plugins.jenkins.io/git\">git plugin</a> and the <a href=\"https://plugins.jenkins.io/git-client\">git client plugin</a>.\nHe is active in <a href=\"/sigs/\">Jenkins special interest groups</a> including the <a href=\"/sigs/docs/\">Docs SIG</a>, <a href=\"/sigs/platform\">Platform SIG</a>, and <a href=\"/sigs/advocacy-and-outreach\">Advocacy SIG</a>.</p>\n</div>","id":"markewaite","irc":"markewaite","linkedin":"markwaite","name":"Mark Waite","slug":"blog/author/markewaite","twitter":"MarkEWaite"},{"avatar":{"childImageSharp":null},"blog":null,"github":"vsilverman","html":"<div class=\"paragraph\">\n<p>Vlad is an active user of Jenkins and at the beginning of 2020 he also started actively contributing to the Jenkins project. He resides in Silicon Valley and for 10+ years had been involved in building/testing business processes for large enterprises and mid-size companies.</p>\n</div>","id":"vsilverman","irc":null,"linkedin":null,"name":"Vlad Silverman","slug":"blog/author/vsilverman","twitter":"vsilverman"}]}},{"node":{"date":"2020-08-31T00:00:00.000Z","id":"43eb825a-3d18-5e4f-a85a-0f03ad89902f","slug":"/blog/2020/08/31/custom-distribution-service/","strippedHtml":"Hello everyone,\n\nThis is the final blog post for the Custom Distribution Service project during the Google Summer of Code timeline.\nI have mixed feelings since we are almost near the finish line for one of the most amazing open source programs out there.\nHowever, it is time to wrap things up for this project and achieve a state where the project can be built upon and extended further.\nThis phase has been super busy with respect to the bug fixes, testing and getting the project hosted, so let us get straight into the phase 3 updates.\n\nFixes and Code quality assurance\n\nSet Jenkinsfile agent to linux\n\nWe realised that the build was failing on windows and that there was not really a use-case\nfor running it on windows for right now. Maybe it could be on a future roadmap. Therefore, we\ndecided to shift the testing to only linux agents with respect to running the tests on the jenkins\nserver.\n\nPull Request #116\n\nBackend port error message\n\nSpring boot has a default message on the port:8080 and therefore we wanted to change\nit to a custom message on the backend. So the major takeaway here is that we needed to\nimplement the Error Controller interface and include a custom message in it.\nThis was technical debt from the last phase and was completed and merged during this phase.\n\nPull Request #92\n\nPMD Analysis\n\nIn order to enhance the quality of the code, the PMD source code analyser was applied to the project.\nIt helped me catch tons of errors. When the initial PMD check was run and we found approximately 162 PMD errors. We realised some of them were not relevant and some of them could be fixed later.\n\nPull Request #102\n\nFindbugs Analysis\n\nAnother tool to improve code quality that we included in this phase was findbugs.\nIt did catch around 5-10 bugs in my code which I immediately resolved. Most of them were\naround the Closeable HTTP Request and an easy fix was the try with resources.\n\nPull Request #118\n\nJacoco Code Coverage\n\nWe needed to make sure most of the code we write had proper coverage for all branches and\nlines. Therefore we decided to include a JaCoco Code Coverage reporter that helped us find the\nuncovered lines and areas we need to improve coverage on.\n\nPull Request #103\n\nRemove JCasC generation\n\nWhile developing the service we quickly realised that the generation of the war package broke if we\nincluded a configuration as code section but did not provide a path to the corresponding required yml\nfile. Therefore we took a decision to remove the casc section all together. Maybe it will comeback in\na future patch\n\nPull Request link: #127\n\nIssue link: #65\n\nMinor Fixes\n\nLogging Fix: #99\n\nDocs Fix : link: #120\n\nUpdate Center Dump Fix : link: #125\n\nClass Path Fix: link: #126\n\nRelease Drafter Addition: link: #136\n\nFront end\n\nCommunity Config Navigation link\n\nThere was no community configuration link present for navigation which was added here.\n Now it is easier to navigate to the community page from the home page itself.\n\nPull Request #100\n\nDocker updates\n\nBuild everything with Docker\n\nThis was one of the major changes this phase with respect to making the service very easy to spin up locally, this change will greatly help community adoption since it eliminates the tools one needs to install locally. Initially the process was to run maven locally, generate all of the files and then copy all of its contents into the container. However, with this change we are going to generate all of the files inside the docker container itself. Allowing the user to just run a couple of commands to get the service up and running.\n\nSo some of the major changes we did with respect to the dockerfile was:\n\na) Copy all of the configuration files and pom.xml into the container.\n\nb) Run the command mvn clean package inside the container which generates the jar.\n\nc) Run the jar inside the container.\n\nPull Request #104\n\nHosting updates\n\nThis process was supposed to be a future roadmap, however the infra team approved and was super helpful\nin making this process as smooth as possible. Thanks to Gavin, Tim and Oblak for making this possible.\nHere is the google group dicussion\n\nThe project has now been hosted here as a preview. It still needs\nsome fixes to be fully functional.\n\nInfra Docker PR #131\n\nInfra Project Addition PR link: #393\n\nTesting Updates\n\nUnit test the services\n\nWith respect to community hosting and adoption, testing of the service one of the most important and major milestones for this phase was to test the majority of the code and we have completed the testing with flying colors. All of the services have been completely unit tested, which is a major accomplishment.\nFor the testing of the service we decided to go with wiremock which can be used to mock external services. Kezhi’s comment helped us to understand what we needed to do since he had done something quite similar in his Github Checks API project.\n\nSo we basically wiremocked the update-center url and made sure we were getting\nthe accurate response with appropriate control flow logic tested.\n\nwireMockRule.stubFor(get(urlPathMatching(\"/getUpdateCenter\"))\n                .willReturn(aResponse()\n                        .withStatus(200)\n                        .withHeader(\"Content-Type\", \"application/json\")\n                        .withBody(updateCenterBody)));\n\nPull Request #105\n\nAdd Update Center controller tests\n\nAnother major testing change involved testing the controllers. For this we decided to use the wiremock library in java to mock the server response when the controllers were invoked.\n\nFor example: If I have a controller that serves in an api called /api/plugin/getPluginList\nwiremock can be used to stub out its response when the system is under test. So we use something like this to test it out.\n\nwhen(updateService.downloadUpdateCenterJSON()).thenReturn(util.convertPayloadToJSON(dummyUpdateBody))\n\nWhen the particular controller is called the underlying service is mocked and it returns a response according to the one provided by us. To find more details the PR is here.\n\nPull Request #106\n\nAdd Packager Controller Tests\n\nAlong with the update center controller tests another controller that needed to be tested was the\npackager controller. Also we needed to make sure that all the branches for the controllers were properly tested. Additional details can be found in the PR below.\n\nPull Request #133\n\nDocker Compose Tests\n\nOne problem that we faced the entire phase was the docker containers. We regularly found out that due to\nsome changes in the codebase the docker container build sometimes broke, or even sometimes the inner api’s seemed to malfunction. In order to counteract that we decided to come up with some tests locally.\nSo what I did was basically introduce a set of bash scripts that would do the following:\n\na) Build the container using the docker-compose command.\n\nb) Run the container.\n\nc) Test the api’s using the exposed port.\n\nd) Teardown the running containers.\n\nPull Request #131\n\nUser Documentation\n\nWe also included a user docs guide so that it makes it super easy to get started with the service.\n\nPull Request #145\n\nFuture Roadmap\n\nThis has been a super exciting project to work on and I can definitely see this project being built\nupon and extended in the future.\n\nI would like to talk about some of the features that are left to come in and can be taken up in\na future roadmap discussion\n\na) JCasC Support :\n\nDescription: Support the generation of a Jenkins Configuration as Code file asking the user interactively for the plugins they select what would be the configuration they would want eg: If the user selects the slack plugin we need to ask him questions like what is the slack channel? what is the token? etc, and on the basis of this generate a casc file. This feature was initially planned to go into the service but we realised this is a project in its own capacity.\n\nb) Auto Pull Request Creation :\n\nDescription: Allow users to create a configuration file and immediately open a pull request on github\nwithout leaving the user interface. This was originally planned using a github bot and we started the work on it. But we were in doubt if the service would be hosted or not and therefore put the development on hold.\nYou can find the pull requests here:\n\nGithub Controller #72\n\nPull Request Creation Functions #66\n\nc) Synergy with Image Controller\n\nDescription: This feature requires some planning, some of the questions we can ask are:\n\na) Can we generate the images (i.e Image Controller).\nb) Can we have the service as a multipurpose generator ?\n\nStatistics\n\nThis phase has been the busiest of all phases and it has involved a lot of work, more than I had\ninitially expected in the phase. Although lines\nof code added is not an indication of work done, however 800 lines of Code added is a real personal milestone for me.\n\nPull Requests Opened\n26\n\nLines of Code Added\n1096\n\nLines of Docs Added\n200\n\nOther links\n\nGitter Channel Link\nGSoC Proposal\nDesign Document\nDaily Notes","title":"Custom Distribution Service : Phase 3 Blogpost","tags":["service","distribution","cloud-native","gsoc","gsoc2020","packaging","platform-sig"],"authors":[{"avatar":null,"blog":null,"github":"sladyn98","html":"<div class=\"paragraph\">\n<p>Sladyn is a Computer Science student at Mumbai University, India.\nHe is participating in Community Bridge 2019 to provide development tools to JCasC plugin in the form of IDE integrations, schema architecture improvements and configuration extension points <a href=\"https://github.com/jenkinsci/configuration-as-code-plugin\">Configuration as Code Plugin</a>.</p>\n</div>","id":"sladyn98","irc":null,"linkedin":null,"name":"Sladyn Nunes","slug":"blog/author/sladyn98","twitter":"SladynN"}]}},{"node":{"date":"2020-08-29T00:00:00.000Z","id":"a6cfa2b5-a75a-5920-892a-2548994c1318","slug":"/blog/2020/08/29/git-performance-improvement-phase3/","strippedHtml":"Since the beginning of the project, the core value which drove its progress was \"To enhance the user experience for running Jenkins jobs by reducing the overall execution time\".\n\nTo achieve this goal, we laid out a path:\n\nCompare the two existing git implementations i.e CliGitAPIImpl and JGitAPIImpl using performance benchmarking\n\nUse the results to create a feature which would improve the overall performance of git plugin\n\nAlso, fix existing user reported performance issues\n\nLet’s take a journey to understand how we’ve built the new features. If you’d like to skip the journey part, you can directly go to the [major performance improvements] section and the [minor performance section] to see what we’ve done!\n\nJourney to release\n\nThe project started with deciding to choose a git operation and then trying to compare the performance of that operation by using command line git and then with JGit.\n\nStage 1: Benchmark results with git fetch\n\nThe performance of git fetch (average execution time/op) is strongly correlated to the size of a repository\n\nThere exists an inflection point on the scale of repository size after which the nature of JGit performance changes (it starts to degrade)\n\nAfter running multiple benchmarks, it is safe to say that for a large sized repository command line git would be a better choice of implementation.\n\nWe can use this insight to implement a feature which avoids JGit with large repositories.\n\nStage 2: Comparing platforms\n\nThe project was also concerned that there might be important differences between operating systems.\nFor example, what if command line Git for Windows performed very differently than command line Git on Linux or FreeBSD?\nBenchmarks were run to compare fetch performance on several platforms.\n\nRunning git fetch operation for a 400 MiB sized repository on:\n\nAMD64 Microsoft Winders\n\nAMD64 FreeBSD\n\nIBM PowerPC 64 LE Ubuntu 18\n\nIBM System 390 Ubuntu 18\n\nThe result of running this experiment is given below:\n\nThe difference in performance between git and JGit remains constant across all platforms.\n\nBenchmark results on one platform are applicable to all platforms.\n\nStage 3: Performance of git fetch and repository structure\n\nThe area of the circle enclosing each parameter signifies the strength of the positive correlation between the performance of a git fetch operation and that parameter. From the diagram:\n\nSize of the aggregated objects is the dominant player in determining the execution time for a git fetch\n\nNumber of branches and Number of tags play a similar role but are strongly overshadowed by size of repository\n\nNumber of commits has a negligible effect on the performance of running git fetch\n\nAfter running these experiments from Stage-1 to Stage-3, we developed a solution called the GitToolChooser which is explained in the next stage\n\nStage 4: Faster checkout with Git tool chooser\n\nThis feature takes the responsibility of choosing the optimal implementation from the user and hands it to the plugin. It takes the decision of recommending an implementation on the basis of the size of the repository. Here is how it works.\n\nThe image above depicts the performance enhancements we have performed over the course of the GSoC project. These improvements have enabled the checkout step to be finished within half of what it used to take earlier in some cases.\n\nLet’s talk about performance improvements in two parts.\n\nMajor performance improvements\n\nBuilding Tensorflow (~800 MiB) using a Jenkins pipeline, there is over 50% reduction in overall time spent in completing a job!\nThe result is consistent multiple platforms.\n\nThe reason for such a decrease is the fact that JGit degrades in performance when we are talking about large sized repositories. Since the GitToolChooser is aware of this fact, it chooses to recommend command line git instead which saves the user some time.\n\nMinor performance improvements\n\nNote: Enable JGit before using the new performance features to let GitToolChooser work with more options → Here’s how\n\nBuilding the git plugin (~ 20 MiB) using a Jenkins pipeline, there is a drop of a second across all platforms when performance enhancement is enabled. Also, eliminating a redundant fetch reduces unnecessary load on git servers.\n\nThe reason for this change is the fact that JGit performs better than command line git for small sized repositories (<50MiB) as an already warmed up JVM favors the native Java implementation.\n\nReleases\n\nGit Plugin 4.4.0\n\nAdd GitToolChooser\n\nRemove redundant fetch\n\nGit Client Plugin 3.4.0\n\nAdd support to communicate compatibility of JGit with certain additional SCM behaviors\n\nThe road ahead\n\nSupport from other branch source plugins\n\nPlugins like the GitHub Branch Source Plugin or GitLab Branch Source Plugin need to extend an extension point provided by the git plugin to facilitate the exchange of information related to size of a remote repository hosted by the particular git provider\n\nJENKINS-63519 : GitToolChooser predicts the wrong implementation\n\nAddition of this feature to GitSCMSource\n\nDetection of lock related delays accessing the cache directories present on the controller\n\nThis issue was reported by the plugin maintainer Mark Waite, there is a need to reproduce the issue first and then find a possible solution.\n\nReaching out\n\nFeel free to reach out to us for any questions or feedback on the project’s\nGitter Channel or the\nJenkins Developer Mailing list.\nReport an issue at Jenkins Jira.\n\nUseful Links\n\nPhase 1 Blog: https://www.jenkins.io/blog/2020/07/09/git-performance-improvement-phase1/\n\nPhase 2 Blog: https://www.jenkins.io/blog/2020/07/29/git-performance-improvement-phase2/\n\nProject Page: https://www.jenkins.io/projects/gsoc/2020/projects/git-plugin-performance/\n\nDemonstration","title":"Git Plugin Performance Improvement: Final Phase and Release","tags":["plugins","git","platform-sig","developer","performance","gsoc","gsoc2020"],"authors":[{"avatar":{"childImageSharp":null},"blog":null,"github":"rishabhBudhouliya","html":"<div class=\"paragraph\">\n<p>GSoC 2020 student under the Jenkins project (Git Plugin Performance Improvements).\nAspiring to be better at Software Development and participate more in the open source\ncommunity.</p>\n</div>","id":"rishabhbudhouliya","irc":null,"linkedin":null,"name":"Rishabh Budhouliya","slug":"blog/author/rishabhbudhouliya","twitter":null}]}},{"node":{"date":"2020-08-27T00:00:00.000Z","id":"ab88123c-a9df-5bf7-97c3-bc6cd5656a55","slug":"/blog/2020/08/27/winsw-yaml-support/","strippedHtml":"Hello, world! GSoC 2020 Phase 3 has ended now and it was a great period for thw Jenkins Windows Services - YAML Configuration Support project.\nIn this blog post, I will announce the updates during the GSoC 2020 - Phase 2 and Phase 3. If you are not already aware of this project,\nI would recommend reading this blog post which was published after GSoC 2020 - Phase 1.\n\nProject Scope\n\nWindows Service Wrapper - YAML configuration support\n\nYAML schema validation\n\nNew CLI\n\nXML Schema validation\n\nYAML Configuration Support\n\nUnder WinSW - YAML configurations support, these tasks will be done.\n\nYAML to Object mapping\n\nAt the moment YAML object mapping is finished and merged.\nYou can find all the implementations in this Pull Request.\n\nExtend WinSW to support both XML and YAML\n\nThis task is already done and merged. Find the implementation in this Pull Request.\n\nYAML Configuration support for Extensions\n\nAt the moment there are 2 internal plugins in WinSW. RunAwayProcessKiller and SharedDirectoryMapper.\nWe allow users to provide configurations for those plugins in the same XML and YAML configuration file which is used to configure WinSW. This task is merged as well.\nPull Request\n\nYAML schema validation\n\nUsers can validate YAML configuration file against JSON schema file.\nUsers can use YAML utility tool from Visual Studio market place to validate YAML config file against JSON schema.\n\nKey updates in Phase 2 and Phase 3\n\nYAML Configuration structure\n\nEnvironment variables\n\nNow users can provide environment variables as a sequence of dictionaries that contains name and value for environment variables.\n\nTimeStamp values\n\nUsers can specify timestamp values in the same manner used in XML (e.g. 10 ms, 5 sec, 3 min)\n\nYAML configuration document was published. YAML Configuration Specification\n\nExtend the WinSW to support both XML and YAML\n\nYAML support for extensions\n\nYAML schema validation against JSON schema\n\nSample YAML Configuration File\n\nid: jenkins\nname: Jenkins\ndescription: This service runs Jenkins automation server.\nenv:\n    - name: JENKINS_HOME\n      value: '%LocalAppData%\\Jenkins.jenkins'\n    - name: LM_LICENSE_FILE\n      value: host1;host2\nexecutable: java\narguments: >-\n    -Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle\n    -jar \"E:\\Winsw Test\\yml6\\jenkins.war\" --httpPort=8081\nlog:\n    mode: rotate\nonFailure:\n    - action: restart\n      delay: 10 sec\n    - action: reboot\n      delay: 1 hour\nextensions:\n    - id: killOnStartup\n      enabled: yes\n      classname: WinSW.Plugins.RunawayProcessKiller.RunawayProcessKillerExtension\n      settings:\n            pidfile: '%BASE%\\pid.txt'\n            stopTimeOut: 5000\n            StoprootFirst: false\n    - id: mapNetworDirs\n      enabled: yes\n      classname: WinSW.Plugins.SharedDirectoryMapper.SharedDirectoryMapper\n      settings:\n            mapping:\n                - enabled: false\n                  label: N\n                  uncpath: \\\\UNC\n                - enabled: false\n                  label: M\n                  uncpath: \\\\UNC2\n\nNew CLI\n\nLet me explain in brief, why we need a new CLI.\nIn WinSW, we will keep both XML and YAML configuration support.\nBut according to the current implementation, the user can’t specify the configurations file explicitly.\nAlso, we want to let the user skip the schema validation as well.\nSo We decided to move into new CLI which is more structured with commands and options.\nPlease read my previous blog post to learn more about commands and options in the new CLI.\n\nKey updates in Phase 2 and Phase 3\n\nRemove the /redirect command\n\ntestwait command was removed and add the wait option to the test command.\n\nstopwait command was removed and add the wait option to the stop command.\n\nHow to try\n\nUser can configure the Windows Service Wrapper by both XML and YAML configuration files using the following steps.\n\nCreate the configuration file (XML or YAML).\n\nSave it with the same name as the Windows Service Wrapper executable name.\n\nPlace the configuration file inside the directory(or in a parent directory), where the Windows Service Wrapper executable is located.\n\nIf there are both XML and YAML configuraiton files, Windows Service Wrapper will be configured by the XML configuration file.\n\nGSoC 2020 Phase 2 Demo\n\nGSoC 2020 Phase 3 Demo\n\nFuture Works\n\nXML Schema validation\n\nXML configuration file will be validated with the XSD file.\nI have started working on this feature and you can find the implementation in this Pull Request.\n\nYAML Configuration validate on startup\n\nHow to contribute\n\nYou can find the GitHub repository in this link.\nIssues and Pull requests are always welcome. Also, you can communicate with us in the WinSW Gitter channel,\nwhich is a great way to get in touch and there are project sync up meetings every Tuesday at 13:30 UTC on the Gitter channel.\n\nSome useful links\n\nPresentation Slides\n\nProject Page\n\nProject Repository\n\nFeature preview\n\nGitter Channel\n\nYamlDotNet library\n\nCommand Line Parser library","title":"Jenkins Windows Services: YAML Configuration Support - GSoC Project Results","tags":["winsw","windows","jenkins","gsoc","gsoc2020","platform-sig"],"authors":[{"avatar":null,"blog":null,"github":"buddhikac96","html":"","id":"buddhikac96","irc":null,"linkedin":null,"name":"Buddhika Chathuranga","slug":"blog/author/buddhikac96","twitter":null}]}},{"node":{"date":"2020-08-12T00:00:00.000Z","id":"52309c34-03ae-57ce-b801-39141f4c3b3c","slug":"/blog/2020/08/12/windows-installers-upgrade/","strippedHtml":"This article describes the transition from the old Jenkins Windows installer 2.235.2 (32 bit) to the new Jenkins Windows installer 2.235.3 (64 bit)\n\nLet’s take a look how Jenkins installation on Windows happened before release of this upgrade.\n\nStep 1\n\nIt’s evident that branding information is not present here.\n\nStep 2\n\nJenkins would be installed into the 32 bit programs directory along with a 32 bit Java 8 runtime environment.\n\nStep 3\n\nThere was no option to select the user that would run the Jenkins service or the network port that would be used.\n\nIssues\n\nThe previous installer had issues that needed to be resolved:\n\nOnly supported 32-bit installations\n\nBundled an outdated Java 8 runtime environment\n\nNo support for Java 11\n\nNo port selection during installation\n\nNo choice of account for the Jenkins service\n\nThe Program Files (x86) directory was used for the Jenkins home directory\n\nRoad Forward\n\nThe new Jenkins Windows Installer resolves those issues\n\nSupports 64 bit installations and drops 32 bit support\n\nSupports 64 bit Java 8 and 64 bit Java 11\n\nPort selection and validation from the installer\n\nService account selection and validation from the installer\n\nProgram is installed in Program Files with Jenkins home directory in %AppData% of the selected service account\n\nThe JENKINS_HOME directory is placed in the LocalAppData directory for the user that the service will run as, this aligns with modern Windows file system layouts\n\nThe installer has been updated with branding to make it look nicer and provide a better user experience\n\nScreenshots\n\nYou may see below the sequence of screenshots for the new installer:\n\nStep 1\n\nWe can see now the Jenkins logo as a prominent part of the installer UI.\n\nStep 2\n\nJenkins installs by default in the 64 bit programs folder rather than in the 32 bit folder.\nNow the Jenkins logo and name are in the header during entire process of installation.\n\nStep 3\n\nNow the installer allows both specifying and testing the credentials by validating that the account has LogonAsService rights.\n\nStep 4\n\nNow the installer also allows specifying the port that Jenkins should run on and will not continue until a valid port is entered and tested.\n\nStep 5\n\nNow instead of bundling a JRE, the installer searches for a compatible JRE on the system (in the current search no JRE was installed).\nIn case you would like to use a different JRE from the one found by the installer, you can browse and specify it.\nOnly Java 8 and Java 11 runtimes are supported.\nIn case the selected JRE is found to be version 11 the installer will automatically add the necessary arguments and additional jar files for running under Java 11.\n\nStep 6\n\nAll of the items that users can enter in the installer should be overridable on the command line for automated deployment as well. The full list of properties that can be overridden will be available soon.\n\nNext Steps\n\nWindows users have alternatives for their existing Jenkins installations:\n\nUpgrade from inside Jenkins\n\nThe \"Manage Jenkins\" section of the running Jenkins will continue to include an \"Upgrade\" button for Windows users.\nYou may continue to use that \"Upgrade\" button to update the Jenkins installation on your Windows computer.\nUpgrade from inside Jenkins will continue to use the current Java version.\nUpgrade from inside Jenkins will continue to use the current installation location.\n\nUpgrade with the new Jenkins MSI installer\n\nIf you run the new Jenkins MSI installer on your Jenkins that was installed with the old Jenkins MSI installer, it will prompt for a new port and a service account.\n\nStop and disable the existing Jenkins service from the Windows Service Manager\n\nRun the new installer to create the new installation with desired settings\n\nStop the newly installed Jenkins service\n\nCopy existing Jenkins configuration files to the new Jenkins home directory\n\nStart the newly installed Jenkins service\n\nAfter the new Jenkins MSI installer has run, the \"Manage Jenkins\" section of the running Jenkins will continue to include an \"Upgrade\" button for Windows users.\nYou may continue to use that \"Upgrade\" button to update the Jenkins installation on your Windows computer.","title":"Windows Installer Upgrades","tags":["windows","platform-sig","installers","announcement"],"authors":[{"avatar":{"childImageSharp":null},"blog":null,"github":"vsilverman","html":"<div class=\"paragraph\">\n<p>Vlad is an active user of Jenkins and at the beginning of 2020 he also started actively contributing to the Jenkins project. He resides in Silicon Valley and for 10+ years had been involved in building/testing business processes for large enterprises and mid-size companies.</p>\n</div>","id":"vsilverman","irc":null,"linkedin":null,"name":"Vlad Silverman","slug":"blog/author/vsilverman","twitter":"vsilverman"},{"avatar":{"childImageSharp":null},"blog":null,"github":"slide","html":"<div class=\"paragraph\">\n<p>Alex comes from a .NET background but likes to get his hands dirty in many different languages and frameworks. He currently\ndoes embedded development in a silicon validation group. He is an internal evangelist for Jenkins at his company. Alex\nis a community contributor to Jenkins, working on plugin hosting and maintaining several plugins. He is also involved in\na few SIGS. Alex enjoys working on open source software in his \"free\" time as well as spending time with his family.</p>\n</div>","id":"slide_o_mix","irc":null,"linkedin":null,"name":"Alex Earl","slug":"blog/author/slide_o_mix","twitter":"alexcearl"}]}},{"node":{"date":"2020-08-09T00:00:00.000Z","id":"babe2cb7-b1f3-538d-a0da-40bd4f32b839","slug":"/blog/2020/08/09/custom-distribution-service-phase-2/","strippedHtml":"Hello everyone,\nIt is time to wrap up another successfull phase for the custom distribution service project,\nand we have incorporated most of the features that we had planned at the start of the phase.\nIt has been an immense learning curve for me and the entire team.\n\nTo understand what the project is about and the past progress, please refer to the phase one blogpost\nhere.\n\nFront-End\n\nFilters for Plugins\n\nIn the previous phase we implemented the ability to add plugins to the configuration,\nand the ability to search these plugins via a search bar.\nSometimes though we would like to filter these plugins based on their usage,\npopularity, stars etc. Hence we have added a certain set of filters to these plugins.\nWe support only four major filters for now. They are:\n\nTitle\n\nMost installed\n\nRelevance\n\nTrending\n\nFilter implementation\n\nThe major heavy lifting is done by the plugin api which takes in the necessary parameters\nand returns the relevant plugins in the form of a json object,\nhere is an example of the api call url: const url = https://plugins.jenkins.io/api/plugins?$params .\n\nFor details, see:\n\nFeature request #9\n\nPull Request #76\n\nCommunity Configurations\n\nOne major deliverable for the project was the ability for users to share the configurations developed by them, so that they can be used widely within the community.\nFor example we see quite a lot of jenkins configurations involve being run on AWS and kubernetes and so on. Therefore it would be really good for the community to have a place to find and run\nthese configurations right out of the box.\n\nDesign Decision\n\nThe major design decision taken here was whether to include the configurations inside\nthe repository or to have them in a completely new repository.\nLet us talk about both these approaches.\n\nHaving the configurations in the current repository:\n\nThis allows us to have all of the relevant configurations inside the repository itself,\nand so users would not have to go fetch this in different repositories.\nWe could have issues with the release cycle and dependencies since,\nit would have to happen along with the custom distribution service project releases.\n\nHaving the configurations in a different repository:\n\nThis allows us to manage all of the configurations and the relevant dependencies separately and easily,\nthus avoiding any release conflict with the current repository.\nHowever it would be a bit difficult if users were to not find this repository.\n\nDecision : We still cannot quite agree on what is the best method so for now,\nI have included the url from which the community configurations are picked up as a\nconfiguration variable in the.env file which can be configured later and\ntherefore it can be up to the user to configure. Another advantage of having it configurable,\nis that the user can decide to load configurations which are private to his organization as well.\n\nFor details, see:\n\nIssue #6161\n\nPull Request #73\n\nBack-End\n\nWar Generation\n\nThe ability to generate and download war files has finally been achieved,\nthe reason this feature took so long to complete is because we had some difficulty\nin implementing the war generation and its tests. However this has been completed\nand can now be tested successfully.\n\nThings to take care while generating war files\n\nIn its current state the war generation cannot include casc.yml or groovy files\nif they are included in the configuration they would have to be added externally.\nThere is an issue opened here.\nThe war file generation would yell at you if you tried to build a war file with a jcasc file configuration.\n\nFor details, see:\n\nIssue #60\n\nPull Request #68\n\nPull Request Creation\n\nThis feature was included in the design document that I created after my GSoC selection.\nIt involves the ability to create pull requests via the front-end of the service.\nThe User Story behind this feature was that If I want to share a configuration with the community and I do not quite know how to use github or I do not want to do it via the terminal.\nThis feature includes creation of a bot that handles the creation of pull requests in the repository.\nThis bot would have to be installed by the jenkins organization in this repository and the bot would handle the rest.\n\nFor details, see:\n\nIssue #59\n\nPull Request #72\n\nDisclaimer:\n\nThis feature has however been put on the back-burner for now because\nwe are focusing on getting the project to be self hosted and therefore\nwould like to implement this once we have a clear path for the project to be hosted by the jenkins-infra team.If you would like to participate in the discussion here are the links for the pull requests,\nPR 1 and link: PR 2, or you can even jump in our gitter channel.\n\nIf you have been following my posts,\nI mentioned in my second week blog post that pulling in the json file consisting of more than\n1600 plugins took a bit more time that my liking.\nWe managed to solve that issue using a caching mechanism,\nso now the files are pulled in the first time you start the service and downloaded in a temporary folder. The next time you want to view the plugin cards they are pulled in directly from the temp directory bam ! thereby reducing time.\n\nFor details see Pull Request #90\n\nFixes and improvements\n\nPort 8080\n\nPort 8080 now does have a message instead of a whitelabel error message which is present\nby default in the spring-boot tomcat server setup.\nTurns out it requires overriding a particular class, and inserting a custom message\n\nFor details, see:\n\nPull Request #92\n\nWar Generation\n\nTill now while you were generating the war file,\nif something went wrong during genration the service would not complain it would just swallow the error and throw back a corrupted war file,\nhowever now we have added an error support feature\nthat will alert you when something goes wrong, the error is not very informative as of now,\nbut we are working on making it more informative in the future.\n\nFor details, see:\n\nWar generation error handling #91\n\nAdd Github controller and jwt helper #66\n\nDockerfile\n\nOne of the major milestones of this phase was to have a project that can be self hosted,\nneedless to say we needed the dockerfile i.e docker-compose.yml to spin the project with a few commands.\nThe major issue we faced here was that there was a bit of a problem making the two containers talk to each other. Let me give you a little bit of context here.\nOur docker-compose is constructed using two separate dockerfiles one for the backend of the service and the other for the front-end.\nThe backend makes api calls to the front-end via the proxy url i.e localhost:8080.\nWe now had to change this since the network bridge between the two containers spoke to each other via the backend-server name i.e app-server.\nTo brige that gap we have this PR that ensured that the docker compose works flawlessly.\n\nFor details, see:\n\nPull Request #82\n\nHowever there is a minor draw-back of the above approach was now the entire\nproject just relied on the docker compose and could not run using the simple\ncombination of npm and maven since the proxy was different.\nIn order to fix this I decided to follow a multiple environment approach,\nwhere we have multiple environment files that pick up the correct proxy and insert it at build time,\nto elaborate further we have two environment files,\n(using the env-cmd library ).env and the docker.env and we insert,\nthe correct file depending on how you want to build the project.\nFor instance if you want to run it using the dockerfile the command that is run under the hood is something along these lines — npm --env-cmd -f docker.env start scripts.\n\nFor details, see:\n\nPull Request #88\n\nOther links\n\nGitter Channel Link\nGSoC Proposal\nDesign Document\nDaily Notes\nDemo","title":"Custom Distribution Service : Phase 2 Blogpost","tags":["service","distribution","cloud-native","gsoc","gsoc2020","packaging","platform-sig"],"authors":[{"avatar":null,"blog":null,"github":"sladyn98","html":"<div class=\"paragraph\">\n<p>Sladyn is a Computer Science student at Mumbai University, India.\nHe is participating in Community Bridge 2019 to provide development tools to JCasC plugin in the form of IDE integrations, schema architecture improvements and configuration extension points <a href=\"https://github.com/jenkinsci/configuration-as-code-plugin\">Configuration as Code Plugin</a>.</p>\n</div>","id":"sladyn98","irc":null,"linkedin":null,"name":"Sladyn Nunes","slug":"blog/author/sladyn98","twitter":"SladynN"}]}},{"node":{"date":"2020-07-29T00:00:00.000Z","id":"84676949-9b05-55b1-b843-435c0ff0696d","slug":"/blog/2020/07/29/git-performance-improvement-phase2/","strippedHtml":"The second phase of the Git Plugin Performance Improvement project has been great in terms of the progress we have achieved in implementing performance improvement insights\nderived from the phase one JMH micro-benchmark experiments.\n\nWhat we’ve learned so far in this project is that a git fetch is highly correlated to the size of the remote repository. In order to make fetch improvements in this plugin, our task was to find the difference in performance for the two available git implementations in the Git Plugin, git and JGit.\n\nOur major finding was that git performs much better than JGit when it comes to a large sized repository (>100 MiB). Interestingly, JGit performs better than git when size of the repository is less than 100 MiB.\n\nIn this phase, we were successful in coding this derived knowledge from the benchmarks into a new functionality called the\nGitToolChooser.\n\nGitToolChooser\n\nThis class aims to add the functionality of recommending a git implementation on the basis of the size of a repository which has a strong correlation to the performance of git fetch (from performance Benchmarks).\n\nIt utilizes two heuristics to calculate the size:\n\nUsing cached .git dir from multibranch projects to estimate the size of a repository\n\nProviding an extension point which, upon implementation, can use REST APIs exposed by git service providers like Github, GitLab, etc to fetch the size of the remote repository.\n\nWill it optimize your Jenkins instance?\nThat requires one of the following:\n\nyou have a multibranch project in your Jenkins instance, the plugin can use that to recommend the optimal git implementation\n\nyou have a branch Source Plugin installed in the Jenkins instance, the particular branch source plugin will recommend a git implementation using REST APIs provided by GitHub or GitLab respectively.\n\nThe architecture and code for this class is at: PR-931\n\nNote : This functionality is an upcoming feature in the subsequent Git Plugin release.\n\nJMH benchmarks in multiple environments\n\nThe benchmarks were being executed on Linux and macOS machines frequently but there was a need to check if the results gained from those benchmarks would hold true across more platforms to ensure that the solution (GitToolChooser) is generally platform-agnostic.\n\nTo test this hypothesis, we performed an experiment:\n\nRunning git fetch operation for a 400 MiB sized repository on:\n\nWindows\n\nFreeBSD 12\n\nppc64le\n\ns390x\n\nThe result of running this experiment is given below:\n\nObservations:\n\nppc64le and s390x are able to run the operation in almost half the time it takes for the Windows or FreeBSD 12 machine. This behavior may be attributed to the increased computational power of those machines.\n\nThe difference in performance between git and JGit remains constant across all platforms which is a positive sign for the GitToolChooser as its recommendation would be consistent across multiple devices and operating systems.\n\nRelease Plan 🚀\n\nJENKINS-49757 - Avoid double fetch from Git checkout step\nThis issue was fixed in phase one, avoids the second fetch in redundant cases.\nIt will be shipped with some benchmarks on the change in performance due to the removal of the second fetch.\n\nPR-574\n\nPR-904\n\nGitToolChooser\n\nPR-931\nThis pull request is under review, will be shipped in one of the subsequent Git Plugin releases.\n\nCurrent Challenges with GitToolChooser\n\nImplement the extension point to support GitHub Branch Source Plugin, Gitlab Branch Source Plugin and Gitea Plugin.\n\nThe current version of JGit doesn’t support LFS checkout and sparse checkout, need to make sure that the recommendation doesn’t break existing use cases.\n\nFuture Work\n\nIn phase three, we wish to:\n\nRelease a new version of the Git and Git Client Plugin with the features developed during the project\n\nContinue to explore more areas for performance improvement\n\nAdd a new git operation: git clone (Stretch Goal)\n\nReaching Out\n\nFeel free to reach out to us for any questions or feedback on the project’s Gitter Channel or the Jenkins\nDeveloper Mailing list.\n\nProject Page\n\nPhase 1 Blog Post","title":"Git Plugin Performance Improvement Phase-2 Progress","tags":["plugins","git","platform-sig","developer","performance","gsoc","gsoc2020"],"authors":[{"avatar":{"childImageSharp":null},"blog":null,"github":"rishabhBudhouliya","html":"<div class=\"paragraph\">\n<p>GSoC 2020 student under the Jenkins project (Git Plugin Performance Improvements).\nAspiring to be better at Software Development and participate more in the open source\ncommunity.</p>\n</div>","id":"rishabhbudhouliya","irc":null,"linkedin":null,"name":"Rishabh Budhouliya","slug":"blog/author/rishabhbudhouliya","twitter":null}]}}]}},"pageContext":{"tag":"platform-sig","limit":8,"skip":0,"numPages":3,"currentPage":1}},
    "staticQueryHashes": ["3649515864"]}