{
    "componentChunkName": "component---src-templates-simplepage-js",
    "path": "/security/advisory/2017-12-14",
    "result": {"data":{"simplePage":{"html":"<div class=\"paragraph\">\n<p>This advisory announces two vulnerabilities in Jenkins.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"description\"><a class=\"anchor\" href=\"#description\"></a>Description</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"random-failures-to-initialize-the-setup-wizard-on-startup\"><a class=\"anchor\" href=\"#random-failures-to-initialize-the-setup-wizard-on-startup\"></a>Random failures to initialize the setup wizard on startup</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-667 / CVE-2017-1000503</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>A race condition during Jenkins startup could result in the wrong order of execution of commands during initialization.</p>\n</div>\n<div class=\"paragraph\">\n<p>On Jenkins 2.81 and newer, including LTS 2.89.1, this could in rare cases (we estimate less than 20% of new instances) result in failure to initialize the setup wizard on the first startup.\nThis resulted in the following security settings not being set to their usual strict default:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>No security realm was defined, and no <code>admin</code> user was created whose password was written to the Jenkins log or the <code>initialAdminPassword</code> file.</p>\n</li>\n<li>\n<p>The authorization strategy remained <em>Anyone can do anything</em> rather than <em>Logged-in users can do anything</em>.</p>\n</li>\n<li>\n<p><em>TCP port for JNLP agents</em>, usually disabled by default, was open, unless a Java system property controlling it was set.</p>\n</li>\n<li>\n<p><em>CLI over Remoting</em> was enabled.</p>\n</li>\n<li>\n<p><em>CSRF Protection</em> was disabled.</p>\n</li>\n<li>\n<p><em>Agent â†’ Controller Access Control</em> was disabled.</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>Affected instances need to be configured to restrict access.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"csrf-protection-delayed-after-startup\"><a class=\"anchor\" href=\"#csrf-protection-delayed-after-startup\"></a>CSRF protection delayed after startup</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-667 / CVE-2017-1000504</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>A race condition during Jenkins startup could result in the wrong order of execution of commands during initialization.</p>\n</div>\n<div class=\"paragraph\">\n<p>There&#8217;s a very short window of time after startup during which Jenkins may no longer show the \"Please wait while Jenkins is getting ready to work\" message, but Cross-Site Request Forgery (CSRF) protection may not yet be effective.\nAs of publication of this advisory, we&#8217;ve been unable to confirm this can actually be exploited, but generally recommend that users upgrade to the fixed versions below.</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"severity\"><a class=\"anchor\" href=\"#severity\"></a>Severity</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>SECURITY-667: <a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H\">high</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"affected-versions\"><a class=\"anchor\" href=\"#affected-versions\"></a>Affected versions</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Random failures to initialize the setup wizard on startup:</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Jenkins 2.81 through 2.94 (inclusive)</p>\n</li>\n<li>\n<p>Jenkins LTS 2.89.1</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>CSRF protection delayed after startup:</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Jenkins up to and including 2.94</p>\n</li>\n<li>\n<p>Jenkins LTS up to and including 2.89.1</p>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"fix\"><a class=\"anchor\" href=\"#fix\"></a>Fix</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Jenkins main line users should update to 2.95</p>\n</li>\n<li>\n<p>Jenkins LTS users should update to 2.89.2</p>\n</li>\n<li>\n<p>Users who originally installed Jenkins 2.81 through 2.94, or LTS 2.89.1, should review all the options of the <em>Configure Global Security</em> screen.</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>These versions include fixes to all the vulnerabilities described above.\nAll prior versions are affected by these vulnerabilities unless otherwise indicated.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"credit\"><a class=\"anchor\" href=\"#credit\"></a>Credit</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The Jenkins project would like to thank the reporters for discovering and <a href=\"/security/#reporting-vulnerabilities\">reporting</a> these vulnerabilities:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><strong>Daniel Beck, CloudBees, Inc.</strong> for SECURITY-667</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"other-resources\"><a class=\"anchor\" href=\"#other-resources\"></a>Other Resources</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"/blog/2017/12/14/security-update/\">Announcement blog post</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","id":"security/advisory/2017-12-14.adoc","title":"Jenkins Security Advisory 2017-12-14"}},"pageContext":{"id":"security/advisory/2017-12-14.adoc"}},
    "staticQueryHashes": ["3649515864"]}