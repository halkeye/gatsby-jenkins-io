{
    "componentChunkName": "component---src-templates-simplepage-js",
    "path": "/security/advisory/2017-04-26",
    "result": {"data":{"simplePage":{"html":"<div class=\"paragraph\">\n<p>This advisory announces multiple vulnerabilities in Jenkins.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"description\"><a class=\"anchor\" href=\"#description\"></a>Description</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"csrf-multiple-vulnerabilities\"><a class=\"anchor\" href=\"#csrf-multiple-vulnerabilities\"></a>CSRF: Multiple vulnerabilities</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-412 through SECURITY-420 / CVE-2017-1000356</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Multiple <a href=\"https://en.wikipedia.org/wiki/Cross-site_request_forgery\">Cross-Site Request Forgery</a> vulnerabilities in Jenkins allowed malicious users to perform several administrative actions by tricking a victim into opening a web page.\nThe most notable ones:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>SECURITY-412: Restart Jenkins immediately, after all builds are finished, or after all plugin installations and builds are finished</p>\n</li>\n<li>\n<p>SECURITY-412: Schedule a downgrade of Jenkins to a previously installed version if Jenkins previously upgraded itself</p>\n</li>\n<li>\n<p>SECURITY-413: Install and (optionally) dynamically load any plugin present on a configured update site</p>\n</li>\n<li>\n<p>SECURITY-414: Remove any update site from the Jenkins configuration</p>\n</li>\n<li>\n<p>SECURITY-415: Change a user&#8217;s API token</p>\n</li>\n<li>\n<p>SECURITY-416: Submit system configuration</p>\n</li>\n<li>\n<p>SECURITY-417: Submit global security configuration</p>\n</li>\n<li>\n<p>SECURITY-418, SECURITY-420: For Jenkins user database authentication realm: create an account if signup is enabled; or create an account if the victim is an administrator, possibly deleting the existing default \"admin\" user in the process</p>\n</li>\n<li>\n<p>SECURITY-419: Create a new agent, possibly executing arbitrary shell commands on the Jenkins controller by choosing the appropriate launch method</p>\n</li>\n<li>\n<p>SECURITY-420: Cancel a scheduled restart</p>\n</li>\n<li>\n<p>SECURITY-420: Configure the global logging levels</p>\n</li>\n<li>\n<p>SECURITY-420: Create a copy of an existing agent</p>\n</li>\n<li>\n<p>SECURITY-420: Create copies of views in users' \"My Views\" or as children of the experimental \"Tree View\" feature</p>\n</li>\n<li>\n<p>SECURITY-420: Enter \"quiet down\" mode in which no new builds are started</p>\n</li>\n<li>\n<p>SECURITY-420: On Windows, after successful installation as a service, restart</p>\n</li>\n<li>\n<p>SECURITY-420: On Windows, try to install Jenkins as a service</p>\n</li>\n<li>\n<p>SECURITY-420: Set the descriptions of items (jobs), builds, and users</p>\n</li>\n<li>\n<p>SECURITY-420: Submit global tools configuration (Jenkins 2.0 and up)</p>\n</li>\n<li>\n<p>SECURITY-420: Toggle keeping a build forever (i.e. exclude or include it in log rotation)</p>\n</li>\n<li>\n<p>SECURITY-420: Try to connect all disconnected agents simultaneously</p>\n</li>\n<li>\n<p>SECURITY-420: Update the node monitor data on all agents</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>The above, as well as several other more minor issues, have all been fixed and these actions now require POST requests, and, if configured, a CSRF crumb, to work.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"cli-unauthenticated-remote-code-execution\"><a class=\"anchor\" href=\"#cli-unauthenticated-remote-code-execution\"></a>CLI: Unauthenticated remote code execution</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-429 / CVE-2017-1000353</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>An unauthenticated remote code execution vulnerability allowed attackers to transfer a serialized Java <code>SignedObject</code> object to the remoting-based Jenkins CLI, that would be deserialized using a new <code>ObjectInputStream</code>, bypassing the existing blocklist-based protection mechanism.</p>\n</div>\n<div class=\"paragraph\">\n<p><code>SignedObject</code> has been added to the remoting blocklist.</p>\n</div>\n<div class=\"paragraph\">\n<p>In Jenkins 2.54, the remoting-based CLI protocol was deprecated and a new, HTTP based protocol introduced as the new default, in addition to the existing SSH-based CLI.\nThis feature has been backported to Jenkins 2.46.2.\nIt is strongly recommended that users upgrading Jenkins disable the remoting-based CLI, and use the one of the other modes (HTTP or SSH) instead.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"cli-login-command-allowed-impersonating-any-jenkins-user\"><a class=\"anchor\" href=\"#cli-login-command-allowed-impersonating-any-jenkins-user\"></a>CLI: Login command allowed impersonating any Jenkins user</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-466 / CVE-2017-1000354</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>The <code>login</code> command available in the remoting-based CLI stored the encrypted user name of the successfully authenticated user in a cache file used to authenticate further commands.\nUsers with sufficient permission to create secrets in Jenkins, and download their encrypted values (e.g. with Job/Configure permission), were able to impersonate any other Jenkins user on the same instance.</p>\n</div>\n<div class=\"paragraph\">\n<p>This has been fixed by storing the cached authentication as a hash-based MAC with a key specific to the Jenkins instance and the CLI authentication cache.</p>\n</div>\n<div class=\"paragraph\">\n<p>Previously cached authentications are invalidated when upgrading Jenkins to a version containing a fix for this.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"xstream-java-crash-when-trying-to-instantiate-voidvoid\"><a class=\"anchor\" href=\"#xstream-java-crash-when-trying-to-instantiate-voidvoid\"></a>XStream: Java crash when trying to instantiate void/Void</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-503 / CVE-2017-1000355</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins uses the XStream library to serialize and deserialize XML.\nIts maintainer <a href=\"https://www.openwall.com/lists/oss-security/2017/04/03/4\">recently published a security vulnerability</a> that allows anyone able to provide XML to Jenkins for processing using XStream to crash the Java process.\nIn Jenkins this typically applies to users with permission to create or configure items (jobs), views, or agents.</p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins now prohibits the attempted deserialization of <code>void</code> / <code>Void</code> that results in a crash.</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"severity\"><a class=\"anchor\" href=\"#severity\"></a>Severity</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>SECURITY-412 through SECURITY-420: <a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:H\">high</a></p>\n</li>\n<li>\n<p>SECURITY-429: <a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H\">critical</a></p>\n</li>\n<li>\n<p>SECURITY-466: <a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H\">high</a></p>\n</li>\n<li>\n<p>SECURITY-503: <a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H\">medium</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"affected-versions\"><a class=\"anchor\" href=\"#affected-versions\"></a>Affected versions</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>All Jenkins main line releases up to and including 2.56</p>\n</li>\n<li>\n<p>All Jenkins LTS releases up to and including 2.46.1</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"fix\"><a class=\"anchor\" href=\"#fix\"></a>Fix</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Jenkins main line users should update to 2.57</p>\n</li>\n<li>\n<p>Jenkins LTS users should update to 2.46.2</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>These versions include fixes to all the vulnerabilities described above.\nAll prior versions are affected by these vulnerabilities unless otherwise indicated.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"credit\"><a class=\"anchor\" href=\"#credit\"></a>Credit</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The Jenkins project would like to thank the reporters for discovering and <a href=\"/security/#reporting-vulnerabilities\">reporting</a> these vulnerabilities:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><strong>An independent security researcher who reported this vulnerability to Beyond Securityâ€™s SecuriTeam Secure Disclosure program</strong> for SECURITY-429</p>\n</li>\n<li>\n<p><strong>Jesse Glick, CloudBees, Inc.</strong> for SECURITY-466</p>\n</li>\n<li>\n<p><strong>Steve Marlowe &lt;<a href=\"mailto:smarlowe@cisco.com\">smarlowe@cisco.com</a>&gt; of Cisco ASIG</strong> for SECURITY-412, SECURITY-413, SECURITY-414, SECURITY-415, SECURITY-416, SECURITY-417, SECURITY-418, and SECURITY-419</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"other-resources\"><a class=\"anchor\" href=\"#other-resources\"></a>Other Resources</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"/blog/2017/04/26/security-advisory/\">Announcement blog post</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","id":"security/advisory/2017-04-26.adoc","title":"Jenkins Security Advisory 2017-04-26"}},"pageContext":{"id":"security/advisory/2017-04-26.adoc"}},
    "staticQueryHashes": ["3649515864"]}