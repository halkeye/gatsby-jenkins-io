{
    "componentChunkName": "component---src-templates-simplepage-js",
    "path": "/security/advisory/2017-02-01",
    "result": {"data":{"simplePage":{"html":"<div class=\"paragraph\">\n<p>This advisory announces multiple vulnerabilities in Jenkins.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"description\"><a class=\"anchor\" href=\"#description\"></a>Description</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"use-of-aes-ecb-block-cipher-mode-without-iv-for-encrypting-secrets\"><a class=\"anchor\" href=\"#use-of-aes-ecb-block-cipher-mode-without-iv-for-encrypting-secrets\"></a>Use of AES ECB block cipher mode without IV for encrypting secrets</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-304 / CVE-2017-2598</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Secrets such as passwords are typically stored on disk and sent to users as part of some pages in encrypted form. These were encrypted using AES-128 ECB without IV, which exposes Jenkins and the stored secrets to unnecessary risks. Jenkins now encrypts secrets using AES-128 CBC with random IV.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"items-could-be-created-with-same-name-as-existing-item\"><a class=\"anchor\" href=\"#items-could-be-created-with-same-name-as-existing-item\"></a>Items could be created with same name as existing item</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-321 / CVE-2017-2599</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>An insufficient permission check allowed users with the permission to create new items (e.g. jobs) to overwrite existing items they don&#8217;t have access to. After a Jenkins restart, children of the original item, such as builds, were then accessible in some circumstances.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"node-monitor-data-could-be-viewed-by-low-privilege-users\"><a class=\"anchor\" href=\"#node-monitor-data-could-be-viewed-by-low-privilege-users\"></a>Node monitor data could be viewed by low privilege users</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-343 / CVE-2017-2600</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Overall/Read permission was sufficient to access node monitor data via the remote API. These included system configuration and runtime information of these nodes.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"possible-cross-site-scripting-vulnerability-in-jquery-bundled-with-timeline-widget\"><a class=\"anchor\" href=\"#possible-cross-site-scripting-vulnerability-in-jquery-bundled-with-timeline-widget\"></a>Possible cross-site scripting vulnerability in jQuery bundled with timeline widget</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-349 / CVE-2011-4969</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>The Simile timeline widget used on build history pages bundles an outdated jQuery vulnerable to CVE-2011-4969. We were unable to confirm that Jenkins is vulnerable, but updated the jQuery version bundled with the Simile timeline widget anyway.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"persisted-cross-site-scripting-vulnerability-in-parameter-names-and-descriptions\"><a class=\"anchor\" href=\"#persisted-cross-site-scripting-vulnerability-in-parameter-names-and-descriptions\"></a>Persisted cross-site scripting vulnerability in parameter names and descriptions</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-353 / CVE-2017-2601</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Users with the permission to configure jobs were able to inject JavaScript into parameter names and descriptions.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"outdated-jbcrypt-version-bundled-with-jenkins\"><a class=\"anchor\" href=\"#outdated-jbcrypt-version-bundled-with-jenkins\"></a>Outdated jbcrypt version bundled with Jenkins</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-354 / CVE-2015-0886</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins bundled an outdated version of jbcrypt that was affected by CVE-2015-0886.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"pipeline-metadata-files-not-excluded-in-agent-to-controller-security-subsystem\"><a class=\"anchor\" href=\"#pipeline-metadata-files-not-excluded-in-agent-to-controller-security-subsystem\"></a>Pipeline metadata files not excluded in agent-to-controller security subsystem</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-358 / CVE-2017-2602</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>The Pipeline suite of plugins stored build metadata in the file <code>program.dat</code> and the directory <code>workflow/</code>. These were not excluded in the <a href=\"/security-144\">agent-to-controller security subsystem</a> and could therefore be written to by malicious agents.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"user-data-leak-in-disconnected-agents-config-xml-api\"><a class=\"anchor\" href=\"#user-data-leak-in-disconnected-agents-config-xml-api\"></a>User data leak in disconnected agents' config.xml API</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-362 / CVE-2017-2603</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Agents that were disconnected by users contained the disconnecting user&#8217;s <code>User</code> object in serialized form in the <code>config.xml</code> remote API output. This could leak sensitive data such as API tokens.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"low-privilege-users-were-able-to-act-on-administrative-monitors\"><a class=\"anchor\" href=\"#low-privilege-users-were-able-to-act-on-administrative-monitors\"></a>Low privilege users were able to act on administrative monitors</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-371 / CVE-2017-2604</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Administrative monitors are warnings about the system state shown to Jenkins admins. They sometimes provide actions to e.g. automatically address the reported problem, or disable the warning. These actions were not consistently protected by permission checks, thereby allowing low privilege users to act on them.</p>\n</div>\n<div class=\"paragraph\">\n<p>All administrative monitors now require the user accessing them to be an administrator.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"re-key-admin-monitor-leaves-behind-unencrypted-credentials-in-upgraded-installations\"><a class=\"anchor\" href=\"#re-key-admin-monitor-leaves-behind-unencrypted-credentials-in-upgraded-installations\"></a>Re-key admin monitor leaves behind unencrypted credentials in upgraded installations</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-376 / CVE-2017-1000362</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>The re-key admin monitor was introduced in Jenkins 1.498 and re-encrypted all secrets in JENKINS_HOME with a new key. It also created a backup directory with all old secrets, and the key used to encrypt them. These backups were world-readable and not removed afterwards.</p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins now deletes the backup directory, if present. Upgrading from before 1.498 will no longer create a backup directory. <strong>Administrators relying on file access permissions in their manually created backups are advised to check them for the directory <code>$JENKINS_HOME/jenkins.security.RekeySecretAdminMonitor/backups</code>, and delete it if present.</strong></p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"internal-api-allowed-access-to-item-names-that-should-not-be-visible\"><a class=\"anchor\" href=\"#internal-api-allowed-access-to-item-names-that-should-not-be-visible\"></a>Internal API allowed access to item names that should not be visible</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-380 / CVE-2017-2606</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>The method <code>Jenkins#getItems()</code> included a performance optimization that resulted in all items being returned if the <em>Logged in users can do anything</em> authorization strategy was used, and no access was granted to anonymous users (an option added in Jenkins 2.0). This only affects anonymous users (other users legitimately have access) that were able to get a list of items via an <code>UnprotectedRootAction</code>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"persisted-cross-site-scripting-vulnerability-in-console-notes\"><a class=\"anchor\" href=\"#persisted-cross-site-scripting-vulnerability-in-console-notes\"></a>Persisted cross-site scripting vulnerability in console notes</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-382 / CVE-2017-2607</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins allows plugins to annotate build logs, adding new content or changing the presentation of existing content while the build is running. Popular examples include the highlighting of sections by <a href=\"https://plugins.jenkins.io/ant\">Ant Plugin</a>, or the timestamp metadata from <a href=\"https://plugins.jenkins.io/timestamper\">Timestamper</a>. Malicious Jenkins users, or users with SCM access, could configure jobs or modify build scripts such that they print serialized console notes that perform cross-site scripting attacks on Jenkins users viewing the build logs.</p>\n</div>\n<div class=\"paragraph\">\n<p>To prevent this, console notes are now signed by Jenkins when created, and Jenkins will only deserialize correctly signed console notes. <strong>As a side effect, console notes created before updating to a release containing this fix will no longer be deserialized.</strong> To restore the previous (unsafe) behavior, set the system property <code>hudson.console.ConsoleNote.INSECURE</code> to <code>true</code> as described on <a href=\"/doc/book/managing/system-properties/\">Features controlled by system properties</a>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"xstream-remote-code-execution-vulnerability\"><a class=\"anchor\" href=\"#xstream-remote-code-execution-vulnerability\"></a>XStream remote code execution vulnerability</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-383 / CVE-2017-2608</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>XStream-based APIs in Jenkins (e.g. <code>/createItem</code> URLs, or <code>POST config.xml</code> remote API) were vulnerable to a remote code execution vulnerability involving the deserialization of various types in <code>javax.imageio</code>.</p>\n</div>\n<div class=\"paragraph\">\n<p>In case this extension of the blocklist results in regressions, the blocklist can be customized as described <a href=\"/doc/upgrade-guide/2.19/#upgrading-to-jenkins-lts-2-19-3\">in the Jenkins LTS upgrade guide for Jenkins 2.19.3</a>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"information-disclosure-vulnerability-in-search-suggestions\"><a class=\"anchor\" href=\"#information-disclosure-vulnerability-in-search-suggestions\"></a>Information disclosure vulnerability in search suggestions</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-385 / CVE-2017-2609</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>The autocompletion for the search box provided the names of views the current user does not have access to in its suggestions. These suggestions were removed.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"persisted-cross-site-scripting-vulnerability-in-search-suggestions\"><a class=\"anchor\" href=\"#persisted-cross-site-scripting-vulnerability-in-search-suggestions\"></a>Persisted cross-site scripting vulnerability in search suggestions</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-388 / CVE-2017-2610</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins allows the creation of users with less-than and greater-than characters in their names. These user names were not escaped when displaying search suggestions, resulting in a cross-site scripting vulnerability.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"insufficient-permission-check-for-periodic-processes\"><a class=\"anchor\" href=\"#insufficient-permission-check-for-periodic-processes\"></a>Insufficient permission check for periodic processes</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-389 / CVE-2017-2611</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>The URLs <code>/workspaceCleanup</code> and <code>/fingerprintCleanup</code> did not perform permission checks, allowing users with read access to Jenkins to trigger these background processes (that are otherwise performed daily), possibly causing additional load on Jenkins controller and agents.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"low-privilege-users-were-able-to-override-jdk-download-credentials\"><a class=\"anchor\" href=\"#low-privilege-users-were-able-to-override-jdk-download-credentials\"></a>Low privilege users were able to override JDK download credentials</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-392 / CVE-2017-2612</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins allows administrators to enter their username and password to the Oracle download site which provides JDKs for download. Users with read access to Jenkins were able to override these credentials, resulting in future builds possibly failing to download a JDK. A permission check has been added.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"user-creation-csrf-using-get-by-admins\"><a class=\"anchor\" href=\"#user-creation-csrf-using-get-by-admins\"></a>User creation CSRF using GET by admins</h3>\n<div class=\"paragraph\">\n<p><strong>SECURITY-406 / CVE-2017-2613</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>When administrators accessed a URL like <code>/user/example</code> via HTTP GET, a user with the ID <code>example</code> was created if it did not exist. While this user record was only retained until restart in most cases, administrators' web browsers could be manipulated to create a large number of user records.</p>\n</div>\n<div class=\"paragraph\">\n<p>Accessing these URLs now no longer results in a user record getting created, Jenkins will respond with 404 Not Found if no such user exists. When using the internal Jenkins user database, new users can be created via <em>Manage Jenkins Â» Manage Users</em>. To restore the previous (unsafe) behavior, set the system property <code>hudson.model.User.allowUserCreationViaUrl</code> to <code>true</code> as described on <a href=\"/doc/book/managing/system-properties/\">Features controlled by system properties</a>.</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"severity\"><a class=\"anchor\" href=\"#severity\"></a>Severity</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>SECURITY-304: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-321: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-343: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-349: <strong><a href=\"https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2015-0886\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-353: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-354: <strong><a href=\"https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2011-4969\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-358: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:N/I:L/A:N\">low</a></strong></p>\n</li>\n<li>\n<p>SECURITY-362: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:R/S:U/C:L/I:N/A:N\">low</a></strong></p>\n</li>\n<li>\n<p>SECURITY-371: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-376: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-380: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-382: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-383: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H\">high</a></strong></p>\n</li>\n<li>\n<p>SECURITY-385: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-388: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-389: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-392: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:L\">medium</a></strong></p>\n</li>\n<li>\n<p>SECURITY-406: <strong><a href=\"https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:L\">medium</a></strong></p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"affected-versions\"><a class=\"anchor\" href=\"#affected-versions\"></a>Affected versions</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>All Jenkins main line releases up to and including 2.43</p>\n</li>\n<li>\n<p>All Jenkins LTS releases up to and including 2.32.1</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"fix\"><a class=\"anchor\" href=\"#fix\"></a>Fix</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Jenkins main line users should update to 2.44</p>\n</li>\n<li>\n<p>Jenkins LTS users should update to 2.32.2</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>These versions include fixes to all the vulnerabilities described above. All prior versions are affected by these vulnerabilities unless otherwise indicated.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"credit\"><a class=\"anchor\" href=\"#credit\"></a>Credit</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The Jenkins project would like to thank the reporters for discovering and <a href=\"/security/#reporting-vulnerabilities\">reporting</a> these vulnerabilities:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><strong>Ben Walding, CloudBees, Inc.</strong> for SECURITY-304</p>\n</li>\n<li>\n<p><strong>Daniel Beck, CloudBees, Inc.</strong> for SECURITY-343, SECURITY-371, SECURITY-385, and SECURITY-392</p>\n</li>\n<li>\n<p><strong>James Dumay, CloudBees, Inc.</strong> for SECURITY-380</p>\n</li>\n<li>\n<p><strong>Jean Marsault, Wavestone</strong> for SECURITY-388 and SECURITY-406</p>\n</li>\n<li>\n<p><strong>Jesse Glick, CloudBees, Inc.</strong> for SECURITY-358 and SECURITY-382</p>\n</li>\n<li>\n<p><strong>Mayuri Gaikwad and Suhas Gaikwad</strong> for SECURITY-353</p>\n</li>\n<li>\n<p><strong>Moritz Bechler of AgNO3</strong> for SECURITY-383</p>\n</li>\n<li>\n<p><strong>Robert Picard, Addepar</strong> for SECURITY-389</p>\n</li>\n<li>\n<p><strong>Robert Pitt, Electronic Arts Inc.</strong> for SECURITY-362</p>\n</li>\n<li>\n<p><strong>Steve Marlowe &lt;<a href=\"mailto:smarlowe@cisco.com\">smarlowe@cisco.com</a>&gt; of Cisco ASIG</strong> for SECURITY-376</p>\n</li>\n<li>\n<p><strong>Taneli Vallo</strong> for SECURITY-321</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"other-resources\"><a class=\"anchor\" href=\"#other-resources\"></a>Other Resources</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"/blog/2017/02/01/security-updates/\">Announcement blog post</a></p>\n</li>\n<li>\n<p><a href=\"https://www.cloudbees.com/cloudbees-security-advisory-2017-02-01\">Corresponding advisory from CloudBees for CloudBees Jenkins Platform</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","id":"security/advisory/2017-02-01.adoc","title":"Jenkins Security Advisory 2017-02-01"}},"pageContext":{"id":"security/advisory/2017-02-01.adoc"}},
    "staticQueryHashes": ["3649515864"]}