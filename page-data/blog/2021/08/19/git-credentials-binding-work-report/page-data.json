{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2021/08/19/git-credentials-binding-work-report/",
    "result": {"data":{"blog":{"html":"<div class=\"sect1\">\n<h2 id=\"abstract\"><a class=\"anchor\" href=\"#abstract\"></a>Abstract</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>This project implemented two new credential bindings to perform authenticated operations using command line git in Jenkins pipeline and freestyle jobs.</p>\n</div>\n<div class=\"paragraph\">\n<p>The two credential bindings are <code>gitSshPrivateKey</code> and <code>gitUsernamePassword</code>.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"implementation\"><a class=\"anchor\" href=\"#implementation\"></a>Implementation</h2>\n<div class=\"sectionbody\">\n<div class=\"dlist\">\n<dl>\n<dt class=\"hdlist1\">Type</dt>\n<dd>\n<p>Feature</p>\n</dd>\n<dt class=\"hdlist1\">Location</dt>\n<dd>\n<p>The <code>gitUsernamePassword</code> binding is implemented in Jenkins <a href=\"https://plugins.jenkins.io/git/\">git plugin</a> <a href=\"https://github.com/jenkinsci/git-plugin/releases/tag/git-4.8.0\">v4.8.0</a>.\nThe <code>gitSshPrivateKey</code> binding is implemented in a <a href=\"https://github.com/jenkinsci/git-plugin/pull/1111\">pull request</a> to the Jenkins <a href=\"https://plugins.jenkins.io/git/\">git plugin</a></p>\n</dd>\n<dt class=\"hdlist1\">Dependencies</dt>\n<dd>\n<div class=\"olist arabic\">\n<ol class=\"arabic\">\n<li>\n<p><a href=\"https://plugins.jenkins.io/credentials-binding/\">Credentials Binding Plugin</a>-\nIt is used to bind Git specific environment variables with shell scripts/commands which perform git authentication on behalf of the user, without their interaction with the command-line.</p>\n</li>\n<li>\n<p><a href=\"https://plugins.jenkins.io/bouncycastle-api/\">Bouncy Castle API Plugin</a>-\nProvides an API to do common tasks like PEM/PKCS#8 Encoding/Decoding and ensuring its stability among Bouncy Castle API versions.</p>\n</li>\n<li>\n<p><a href=\"https://plugins.jenkins.io/sshd/\">SSH Server Plugin</a>-\nProvides an API to perform tasks like OpenSSH private key encoding and decoding.</p>\n</li>\n</ol>\n</div>\n</dd>\n</dl>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"phase-1-git-username-password-binding-gitusernamepassword\"><a class=\"anchor\" href=\"#phase-1-git-username-password-binding-gitusernamepassword\"></a>Phase 1: Git Username Password Binding (gitUsernamePassword)</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"deliverables\"><a class=\"anchor\" href=\"#deliverables\"></a>Deliverables</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Support git authentication over the <strong>HTTP</strong> protocol</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Use the <code>GIT_ASKPASS</code> environment variable to provide user credentials to command line git</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>Support different</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><em>OS environments</em>: CentOS 7, CentOS 8, Debian 9, Debian 10, FreeBSD 12, OpenBSD 6.9, openSUSE 15.2, Ubuntu 18.04, Ubuntu 20.04, Ubuntu 21.04, and Windows 10.</p>\n</li>\n<li>\n<p><em>Processors</em>: amd64, arm32, arm64, and s390x.</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>Authentication support for command line git only, not JGit or JGit Apache.</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Check for specific git versions</p>\n</li>\n<li>\n<p>Setting git specific environment variables based on OS type</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>Automated test coverage more than 90%</p>\n</li>\n</ul>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"resources\"><a class=\"anchor\" href=\"#resources\"></a>Resources</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Pull Requests</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/jenkinsci/git-plugin/pull/1104\">Add Git Credentials binding for Username and Password</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/git-client-plugin/pull/724\">Check the least command line git version required</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/git-plugin/pull/1119/files\">Git username password binding doc update in git-plugin</a></p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><a href=\"https://www.jenkins.io/projects/gsoc/2021/projects/git-credentials-binding/#git-username-and-password-binding\">gitUsernamePassword binding explanation</a></p>\n</li>\n<li>\n<p><a href=\"https://docs.google.com/presentation/d/1LCH0dXzWka_l-WQ3SVMCXfU7w7jQENXS-bdz2E5GIgU/edit?usp=sharing\">Webinar slides</a></p>\n</li>\n<li>\n<p><a href=\"https://www.jenkins.io/blog/2021/07/27/git-credentials-binding-phase-1/\">Git username password binding released blog post</a></p>\n</li>\n<li>\n<p>Phase 1 demo and presentation:</p>\n</li>\n</ul>\n</div>\n<div class=\"videoblock\">\n<div class=\"content\">\n<iframe width=\"800\" height=\"420\" src=\"https://www.youtube.com/embed/_D0hiA1Cgz8?rel=0&amp;start=4068\" frameborder=\"0\" allowfullscreen></iframe>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"phase-2-git-ssh-private-key-binding-gitsshprivatekey\"><a class=\"anchor\" href=\"#phase-2-git-ssh-private-key-binding-gitsshprivatekey\"></a>Phase 2: Git SSH Private Key Binding (gitSshPrivateKey)</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"deliverables-2\"><a class=\"anchor\" href=\"#deliverables-2\"></a>Deliverables</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>To support git authentication over the <strong>SSH</strong> protocol</p>\n</li>\n<li>\n<p>Supports:</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Private Key Formats</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>OpenSSH</p>\n</li>\n<li>\n<p>PEM</p>\n</li>\n<li>\n<p>PKCS#8</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>Encryption algorithms</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>RSA</p>\n</li>\n<li>\n<p>DSA</p>\n</li>\n<li>\n<p>ECDSA</p>\n</li>\n<li>\n<p>ED25519</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><em>OS environments</em>: CentOS 7, CentOS 8, Debian 9, Debian 10, FreeBSD 12, OpenBSD 6.9, openSUSE 15.3, Ubuntu 18.04, Ubuntu 20.04, Ubuntu 21.04, and Windows 10.</p>\n</li>\n<li>\n<p><em>Processors</em>: amd64, arm32, arm64, and s390x.</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>Authentication support for command line git only, not JGit or JGit Apache.</p>\n</li>\n<li>\n<p>Use git specific environment variables depending upon the minimum git version</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>GIT_SSH_COMMAND</code> - If the version is greater than 2.3, provides ssh command including the necessary options.</p>\n</li>\n<li>\n<p><code>SSH_ASKPASS</code> - If the version is less than 2.3, an executable script is attached to the variable.</p>\n</li>\n<li>\n<p>Setting variables based on the OS type</p>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"resources-2\"><a class=\"anchor\" href=\"#resources-2\"></a>Resources</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Pull Requests</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/jenkinsci/git-plugin/pull/1111\">Add Git Credentials binding for SSH Private Key</a></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/jenkinsci/git-plugin/pull/1111/commits/dd86551cda93447090584407304f83ca3030f154\">Last GSOC-2021 noted commit</a></p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/git-client-plugin/pull/727\">Scope change of getSSHExecutable method</a></p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><a href=\"https://www.jenkins.io/projects/gsoc/2021/projects/git-credentials-binding/#git-ssh-private-key-binding\">gitSshPrivateKey binding explanation</a></p>\n</li>\n<li>\n<p><a href=\"https://docs.google.com/presentation/d/1oVjwKt4OsxxDWs4eY3JL6jNxi2YyY9IQNizws-EAITM/edit?usp=sharing\">Webinar Slides</a></p>\n</li>\n<li>\n<p>Final phase demo and presentation</p>\n</li>\n</ul>\n</div>\n<div class=\"videoblock\">\n<div class=\"content\">\n<iframe width=\"800\" height=\"420\" src=\"https://www.youtube.com/embed/XRnZGvaGSqE?rel=0\" frameborder=\"0\" allowfullscreen></iframe>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"achievements\"><a class=\"anchor\" href=\"#achievements\"></a>Achievements</h2>\n<div class=\"sectionbody\">\n<div class=\"olist arabic\">\n<ol class=\"arabic\">\n<li>\n<p>The git credential bindings which are available through the git plugin automate the git authentication process for a user effortlessly</p>\n</li>\n<li>\n<p>The <code>gitUsernamePassword</code> and <code>gitSshPrivateKey</code> binding provides git authentication support for Pipeline and Freestyle Project users in various OS environments on different processors</p>\n</li>\n<li>\n<p>The <code>gitUsernamePassword</code> binding has been released and is readily available from git plugin v4.8.0 and above</p>\n</li>\n<li>\n<p>The <code>gitSshPrivateKey</code> binding provides support for OpenSSH format which is default for OpenSSH v7.8 and above</p>\n</li>\n</ol>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"future-work\"><a class=\"anchor\" href=\"#future-work\"></a>Future Work</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>SSH private key binding pull request merge and release</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>Unexpected complications from Jenkins class loader required extra effort and investigation, including an experiment shading a dependency into the git plugin\nWe intentionally chose to avoid the complication and risk of shading the dependency\nIf the SSH library use requires shading, then we may need to use maven modules in the git plugin</p>\n</div>\n</div>\n</div>","id":"3ba26599-8e1c-5bd0-9892-7a79594d049c","title":"Git Credentials Binding for sh, bat, powershell","date":"2021-08-19T00:00:00.000Z","slug":"/blog/2021/08/19/git-credentials-binding-work-report/","links":{"discourse":""},"authors":[{"avatar":null,"blog":null,"github":"arpoch","html":"<div class=\"paragraph\">\n<p>Harshit Chopra is an open source enthusiast from India.</p>\n</div>","id":"arpoch","irc":null,"linkedin":"harshit-chopra-275269178","name":"Harshit Chopra","slug":"blog/author/arpoch","twitter":"Harshit14413301"}]}},"pageContext":{"next":"/blog/2021/08/23/jenkins-operator-security-work-report/","previous":"/blog/2021/08/17/docker-images-use-jdk-11-by-default/","id":"3ba26599-8e1c-5bd0-9892-7a79594d049c"}},
    "staticQueryHashes": ["1271460761","3649515864"]}