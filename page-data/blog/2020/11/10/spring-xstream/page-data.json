{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2020/11/10/spring-xstream/",
    "result": {"data":{"blog":{"html":"<div class=\"paragraph\">\n<p>Cleaning up technical debt is a perennial topic among Jenkins core developers,\nand one of the most visible issues is the use of obsolete and/or forked third-party libraries.\nIn a world where Dependabot is offering updates to libraries released just hours before,\nit is unpleasant to be working with dependencies that are many years old.\nSince large organizations in particular are unhappy to install software using obsolete or nonstandard versions,\nmy employer (CloudBees) gave its blessing for me to spend some time cleaning up some of the worst offenders.</p>\n</div>\n<div class=\"paragraph\">\n<p>The toughest nut to crack was the Acegi Security library used for authentication,\nwhich has long since been replaced by Spring Security\n(and Jenkins was also bundling a long-outdated version of some Spring Framework dependencies).\njep:227[] tracks the complicated task of updating to Spring Security\nwithout breaking the numerous plugins that interact with authentication,\nespecially those offering a <strong>Security Realm</strong>.</p>\n</div>\n<div class=\"paragraph\">\n<p>Another longstanding problem was the XStream library which Jenkins uses to read and write XML configuration files.\nThis had been forked long ago by what was then the Hudson project and a few fixes applied.\nUnfortunately, some of those fixes were rejected upstream as invalid (representing unsupported usage patterns),\nand the fork fell behind the upstream version.\njep:228[] describes the impact of switching to the upstream library in a more standard usage mode,\nincluding fixes to a smaller number of plugins which would otherwise be incompatible.</p>\n</div>\n<div class=\"paragraph\">\n<p>Now that the Jenkins 2.266 weekly release includes both updates,\nit is important for both Jenkins administrators and plugin maintainers to check for actual or potential incompatibilities.\nThere are two tables listing the impact of these changes on plugins:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/jenkinsci/jep/blob/master/jep/227/compatibility.adoc\">Spring Security compatibility</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/jep/blob/master/jep/228/compatibility.adoc\">XStream compatibility</a></p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>If you <strong>use Jenkins</strong> then it is a good idea before upgrading to take a look at these tables\nto see if you are running any plugins considered <em>incompatible</em>.\nIf so, try not to rely on that plugin, or find out if there is an active maintainer who could help.\nFor entries marked <em>unknown</em>, it would be appreciated if you could do a sanity check after upgrading\nand offer a pull request to the table page (click <strong>Edit this file</strong>) with a more informative status.</p>\n</div>\n<div class=\"paragraph\">\n<p>If you find a regression in a plugin, please file a bug report in Jira and link to it from the table.\nAlso please add a <code>JEP-227</code> or <code>JEP-228</code> label as appropriate, for ease of tracking:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://issues.jenkins.io/issues/?jql=resolution%20%3D%20Unresolved%20and%20labels%20in%20(JEP-227)\">Open JEP-227 issues</a></p>\n</li>\n<li>\n<p><a href=\"https://issues.jenkins.io/issues/?jql=resolution%20%3D%20Unresolved%20and%20labels%20in%20(JEP-228)\">Open JEP-228 issues</a></p>\n</li>\n</ul>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\"></i>\n</td>\n<td class=\"content\">\n<div class=\"paragraph\">\n<p>It is a good idea to update all your plugins <em>before</em> upgrading Jenkins core.\nIn the case of the Spring Security update, some security realm plugins including LDAP and Active Directory must be updated in advance.\n(You can safely run the new plugin versions on Jenkins releases <em>prior</em> to this change.)\nOtherwise, you risk being unable to log in to Jenkins—and thus unable to update those plugins from the GUI!\nThe LDAP plugin additionally has a new version available only after the core upgrade, but there is no rush in switching to that.</p>\n</div>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>If you <strong>maintain a Jenkins plugin</strong> then please check whether it is marked anything less than <em>compatible</em>.\nIn some cases, there are already pull requests awaiting merge.\nIn other cases, some minor aspects of the source code have been identified that could be edited to improve compatibility.</p>\n</div>\n<div class=\"paragraph\">\n<p>We expect to see a bit of disruption from these changes\nbut hope that in the long run they will save time for core and plugin developers\nand lead to a more secure and stable tool.\nPlease reach out on the <a href=\"/mailing-lists/\">developers’ list</a> with any questions or suggestions.</p>\n</div>","id":"4a81cf3c-4ca0-511f-9197-d77a776ede34","title":"Spring and XStream updates (breaking changes!)","date":"2020-11-10T00:00:00.000Z","slug":"/blog/2020/11/10/spring-xstream/","links":{"discourse":""},"authors":[{"avatar":null,"blog":null,"github":"jglick","html":"<div class=\"paragraph\">\n<p>Jesse has been developing Jenkins core and plugins for years.\nHe is the coauthor with Kohsuke of the core infrastructure of the Pipeline system.</p>\n</div>","id":"jglick","irc":null,"linkedin":null,"name":"Jesse Glick","slug":"/blog/authors/jglick","twitter":"tyvole"}]}},"pageContext":{"id":"4a81cf3c-4ca0-511f-9197-d77a776ede34"}},
    "staticQueryHashes": ["1271460761","3649515864"]}