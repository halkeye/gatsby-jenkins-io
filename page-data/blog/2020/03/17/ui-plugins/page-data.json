{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2020/03/17/ui-plugins/",
    "result": {"data":{"blog":{"html":"<div class=\"paragraph lead\">\n<p>This article has been presented in an <a href=\"https://www.youtube.com/watch?v=GLLhi2UZlxI\">recorded online session</a>\nduring the <a href=\"https://www.jenkins.io/events/online-hackfest/2020-uiux/\">Jenkins 2020 UI/UX Hackfest</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>For Jenkins a large number of plugins are available that visualize the results of a wide variety of build steps. There\nare plugins available to render the test results, the code coverage, the static analysis and so on. All of these plugins\ntypically pick up the build results of a given build step and show them in the user interface. In order to render these\ndetails most of the plugins use static HTML pages, since this type of user interface is the standard visualization in\nJenkins since its inception in 2007.</p>\n</div>\n<div class=\"paragraph\">\n<p>In order to improve the look and feel and the user experience of these plugins it makes sense to move forward and\nincorporate some modern Java Script libraries and components. Since development of Blue Ocean has been stopped (see\n<a href=\"https://groups.google.com/forum/?utm_medium=email&amp;utm_source=footer#!msg/jenkinsci-users/xngZrSsXIjc/btasuPpYCgAJ\">Jenkins mailing list post</a>)\nplugin authors need to decide on their own, which UI technologies are helpful for that task. However, the universe of\nmodern UI components is so overwhelming that it makes sense to pick up only a small set of components that are proven\nto be useful and compatible with Jenkins underlying web technologies. Moreover, the initial setup of\nincorporating such a new component is quite large so it would be helpful if that work needs to be done only once.</p>\n</div>\n<div class=\"paragraph\">\n<p>This guide introduces a few UI components\nthat make sense to be used by all plugin authors in the future to provide a rich user interface for reports in Jenkins.\nIn order to simplify the usage of these libraries in the context of Jenkins as a Java based web application, these\nJava Script libraries and components have been packaged as ordinary Jenkins plugins.</p>\n</div>\n<div class=\"paragraph\">\n<p>In the following sections, these new components will be introduced step by step. In order to see how these components\ncan be used a plugin, I demonstrate the new features while enhancing the existing\n<a href=\"https://github.com/jenkinsci/forensics-api-plugin\">Forensics Plugin</a> with a new user\ninterface. Since the Warnings Next Generation Plugin also uses these new components, you can see additional examples\nin the <a href=\"https://github.com/jenkinsci/warnings-ng-plugin/blob/master/doc/Documentation.md\">documentation of the warnings plugin</a>\nor in our public <a href=\"https://ci.jenkins.io/job/Plugins/job/warnings-ng-plugin/job/master/pmd/\">ci.jenkins.io instance</a>, that\nalready is using these components in the detail views of the warnings plugin.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"new-user-interface-plugins\"><a class=\"anchor\" href=\"#new-user-interface-plugins\"></a>1. New user interface plugins</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The following UI components are provided as new Jenkins plugins:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/jenkinsci/jquery3-api-plugin\">jquery3-api-plugin</a>:\nProvides <a href=\"https://jquery.com\">jQuery 3</a> for Jenkins Plugins.\njQuery is&#8201;&#8212;&#8201;as described on their home page&#8201;&#8212;&#8201;a fast, small, and feature-rich JavaScript library. It makes things\nlike HTML document traversal and manipulation, event handling, animation, and Ajax much simpler with an easy-to-use API\nthat works across a multitude of browsers. With a combination of versatility and extensibility, jQuery has changed the\nway that millions of people write JavaScript.</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/bootstrap4-api-plugin\">bootstrap4-api-plugin</a>:\nProvides <a href=\"https://getbootstrap.com/\">Bootstrap 4</a> for Jenkins Plugins. Bootstrap is&#8201;&#8212;&#8201;according to their self-perception&#8201;&#8212;&#8201;the worldâ€™s most popular front-end component library to build responsive, mobile-first projects on the web. It is\nan open source toolkit for developing with HTML, CSS, and JS. Developers can quickly prototype their ideas or\nbuild entire apps with their Sass variables and mixins, responsive grid system, extensive prebuilt components, and powerful plugins\nbuilt on jQuery.</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/data-tables-api-plugin\">data-tables-api-plugin</a>:\nProvides <a href=\"https://datatables.net\">DataTables</a> for Jenkins Plugins.\nDataTables is a plug-in for the jQuery Javascript library. It is a highly flexible tool, built upon the foundations\nof progressive enhancement, that adds all of these advanced features to any HTML table:</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Previous, next and page navigation</p>\n</li>\n<li>\n<p>Filter results by text search</p>\n</li>\n<li>\n<p>Sort data by multiple columns at once</p>\n</li>\n<li>\n<p>DOM, Javascript, Ajax and server-side processing</p>\n</li>\n<li>\n<p>Easily theme-able</p>\n</li>\n<li>\n<p>Mobile friendly</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/echarts-api-plugin\">echarts-api-plugin</a>:\nProvides <a href=\"https://echarts.apache.org/en/index.html\">ECharts</a> for Jenkins Plugins. ECharts is an open-sourced\nJavaScript visualization tool to create intuitive, interactive, and highly-customizable charts. It\ncan run fluently on PC and mobile devices and it is compatible with most modern\nWeb Browsers.</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/font-awesome-api-plugin\">font-awesome-api-plugin</a>:\nProvides <a href=\"https://fontawesome.com\">Font Awesome</a> for Jenkins Plugins. Font Awesome has vector icons and social logos,\naccording to their self-perception it is the web&#8217;s most popular icon set and toolkit. Currently, it contains more than\n1,500 free icons.</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/popper-api-plugin\">popper-api-plugin</a>\nProvides <a href=\"https://popper.js.org\">Popper.js</a> for Jenkins Plugins. Popper can\neasily position tooltips, popovers or anything else with just a line of code.</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/plugin-util-api-plugin\">plugin-util-api-plugin</a>: This small plugin provides\nsome helper and base classes to simplify the creation of reporters in Jenkins. This plugin also\nprovides a set of architecture rules that can be included in an architecture test suite of your plugin.</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"required-changes-for-a-plugin-pom\"><a class=\"anchor\" href=\"#required-changes-for-a-plugin-pom\"></a>2. Required changes for a plugin POM</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>In order to use these plugins you need to add them as dependencies in your plugin pom. You can use the following snippet\nto add them all:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">pom.xml</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;project&gt;\n\n [...]\n\n  &lt;properties&gt;\n    &lt;plugin-util-api.version&gt;1.0.2&lt;/plugin-util-api.version&gt;\n    &lt;font-awesome-api.version&gt;5.12.0-7&lt;/font-awesome-api.version&gt;\n    &lt;bootstrap4-api.version&gt;4.4.1-10&lt;/bootstrap4-api.version&gt;\n    &lt;echarts-api.version&gt;4.6.0-8&lt;/echarts-api.version&gt;\n    &lt;data-tables-api.version&gt;1.10.20-13&lt;/data-tables-api.version&gt;\n    [...]\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jenkins.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;plugin-util-api&lt;/artifactId&gt;\n      &lt;version&gt;${plugin-util-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jenkins.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;font-awesome-api&lt;/artifactId&gt;\n      &lt;version&gt;${font-awesome-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jenkins.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;bootstrap4-api&lt;/artifactId&gt;\n      &lt;version&gt;${bootstrap4-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jenkins.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;echarts-api&lt;/artifactId&gt;\n      &lt;version&gt;${echarts-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jenkins.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;data-tables-api&lt;/artifactId&gt;\n      &lt;version&gt;${data-tables-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    [...]\n  &lt;/dependencies&gt;\n\n  [...]\n\n&lt;/project&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Alternatively, you have a look at the POM files of the\n<a href=\"https://github.com/jenkinsci/warnings-ng-plugin/blob/master/pom.xml#L249\">Warnings Next Generation Plugin</a> or the\n<a href=\"https://github.com/jenkinsci/forensics-api-plugin/blob/master/pom.xml#L76\">Forensics API Plugin</a> which already use these\nplugins.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"reporter-structure\"><a class=\"anchor\" href=\"#reporter-structure\"></a>3. General structure of a reporter</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>In this section I will explain some fundamentals of the design of Jenkins, i.e. the Java model and the associated\nuser interface elements. If you are already familiar on how to implement the corresponding extension points of a\nreporter plugin (see section <a href=\"https://jenkins.io/doc/developer/extensibility/\">Extensibility</a> in Jenkins'\ndeveloper guide), then you can skip this section and head directly to <a href=\"#extending-jenkins-model\">Section 3.1</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins organizes projects using the static object model structure shown in <a href=\"#jenkins-model\">Figure 1</a>.</p>\n</div>\n<div id=\"jenkins-model\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/jenkins-design.png\" alt=\"Jenkins design\">\n</div>\n<div class=\"title\">Figure 1. Jenkins design - high level view of the Java model</div>\n</div>\n<div class=\"paragraph\">\n<p>The top level items in Jenkins user interface are jobs (at least the top level items\nwe are interested in). Jenkins contains several jobs of different types (Freestyle jobs, Maven Jobs, Pipelines, etc.).</p>\n</div>\n<div class=\"paragraph\">\n<p>Each of these jobs contains an arbitrary number of builds (or more technically, runs). Each build is identified by its\nunique build number. Jenkins plugins can attach results to these builds, e.g. build artifacts, test results,\nanalysis reports, etc. In order to attach such a result, a plugin technically needs to implement and create an action\nthat stores these results.</p>\n</div>\n<div class=\"paragraph\">\n<p>These Java objects are visualized in several different views, which are described in more detail in the following\nsections. The top-level view that shows all available Jobs is shown in <a href=\"#img-jobs\">Figure 2</a>.</p>\n</div>\n<div id=\"img-jobs\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/jobs.png\" alt=\"Jobs\">\n</div>\n<div class=\"title\">Figure 2. Jenkins view showing all available jobs</div>\n</div>\n<div class=\"paragraph\">\n<p>Plugins can also contribute UI elements in these views, but this is out of scope of this guide.</p>\n</div>\n<div class=\"paragraph\">\n<p>Each job has a detail view, where plugins can extend corresponding extension points and provide summary boxes and\ntrend charts. Typically, summary boxes for reporters are not required on the job level, so I describe only trend charts\nin more detail, see section <a href=\"#trend-charts\">Section 5.5.2</a>.</p>\n</div>\n<div id=\"img-job\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/job.png\" alt=\"Job details\">\n</div>\n<div class=\"title\">Figure 3. Jenkins view showing details about a job</div>\n</div>\n<div class=\"paragraph\">\n<p>Each build has a detail view as well. Here plugins can provide summary boxes similar to the boxes for the job details\nview. Typically, plugins show here only a short summary and provide a link to detailed results, see <a href=\"#img-build\">Figure 4</a> for\nan example.</p>\n</div>\n<div id=\"img-build\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/build.png\" alt=\"Build details\">\n</div>\n<div class=\"title\">Figure 4. Jenkins view showing details about a build</div>\n</div>\n<div class=\"paragraph\">\n<p>The last element in the view hierarchy actually is a dedicated view that shows the results of a specific plugin. E.g.,\nthere are views to show the test results, the analysis results, and so on. It is totally up to a given plugin what\nelements should be shown there. In the next few sections I will introduce some new UI components that can be used\nto show the corresponding results in a pleasant way.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"extending-jenkins-model\"><a class=\"anchor\" href=\"#extending-jenkins-model\"></a>3.1. Extending Jenkins object model</h3>\n<div class=\"paragraph\">\n<p>Since reporters typically are composed in a similar way, I extended Jenkins' original object model\n(see <a href=\"#jenkins-model\">Figure 1</a>) with some additional elements, so it will be much simpler to create or implement\na new reporter plugin. This new model is shown in <a href=\"#jenkins-reporter-model\">Figure 5</a>. The central element is a build action that\nwill store the results of a plugin reporter. This action will be attached to each build and will hold (and persist) the\nresults for a reporter. The detail data of each action will be automatically stored in an additional file, so the\nmemory footprint of Jenkins can be kept small if the details are never requested by users. Additionally, this\naction is also used to simplify the creation of project actions and trend charts, see <a href=\"#trend-charts\">Section 5.5.2</a>.</p>\n</div>\n<div id=\"jenkins-reporter-model\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/reporter-design.png\" alt=\"Jenkins reporter design\">\n</div>\n<div class=\"title\">Figure 5. Jenkins reporter design - high level view of the model for reporter plugins</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"forensics-plugin\"><a class=\"anchor\" href=\"#forensics-plugin\"></a>4. Git Forensics plugin</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The elements in this tutorial will be all used in the new\n<a href=\"https://github.com/jenkinsci/forensics-api-plugin\">Forensics API Plugin</a> (actually the plugin is not new, it is a dependency of the\n<a href=\"https://github.com/jenkinsci/warnings-ng-plugin\">Warnings Next Generation Plugin</a>). You can download the plugin content\nand see in more detail how these new components can be used in practice. Or you can change this plugin just to see\nhow these new components can be parametrized.</p>\n</div>\n<div class=\"paragraph\">\n<p>If you are using Git as source code management system then this plugin will mine\nthe repository in the style of\n<a href=\"https://www.adamtornhill.com/articles/crimescene/codeascrimescene.htm\">Code as a Crime Scene</a>\n(Adam Tornhill, November 2013) to determine statistics of the contained source code files:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>total number of commits</p>\n</li>\n<li>\n<p>total number of different authors</p>\n</li>\n<li>\n<p>creation time</p>\n</li>\n<li>\n<p>last modification time</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>The plugin provides a new step (or post build publisher) that starts the repository mining and stores\nthe collected information in a Jenkins action (see <a href=\"#jenkins-reporter-model\">Figure 5</a>). Afterwards you get a new\nbuild summary that shows the total number of scanned files (as trend and as build result). From\nhere you can navigate to the details view that shows the scanned files in a table that can be\nsimply sorted and filtered. You also will get some pie charts that show important aspects of the\ncommit history.</p>\n</div>\n<div class=\"paragraph\">\n<p>Please note that this functionality of the plugin still is a proof of concept: the performance of this step heavily\ndepends on the size and the number of commits of your Git repository. Currently it scans the whole repository in each\nbuild. In the near future I hope to find a volunteer who is interested in replacing this dumb algorithm with an incremental scanner.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"reporter-detail\"><a class=\"anchor\" href=\"#reporter-detail\"></a>5. Introducing the new  UI components</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>As already mentioned in <a href=\"#reporter-structure\">Section 3</a>, a details view is plugin specific. What is shown and how these\nelements are presented is up to the individual plugin author. So in the next sections I provide some examples\nand new concepts that plugins can use as building blocks for their own content.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"font-awesome\"><a class=\"anchor\" href=\"#font-awesome\"></a>5.1. Modern icons</h3>\n<div class=\"paragraph\">\n<p>Jenkins plugins typically do not use icons very frequently. Most plugins provide an icon for the actions and that&#8217;s it.\nIf you intend to use icons in other places, plugin authors are left on their own: the recommended Tango icon set is more\nthan 10 years old and too limited nowadays. There are several options available, but the most popular is the\n<a href=\"https://fontawesome.com\">Font Awesome Icon Set</a>. It provides more than 1500 free icons that follow the same\ndesign guidelines:</p>\n</div>\n<div id=\"img-font-awesome\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/font-awesome.png\" alt=\"Font Awesome icons\">\n</div>\n<div class=\"title\">Figure 6. Font Awesome icons in Jenkins plugins</div>\n</div>\n<div class=\"paragraph\">\n<p>In order to use Font Awesome icons in a plugin you simply need a dependency to the corresponding\n<a href=\"https://github.com/jenkinsci/font-awesome-api-plugin\">font-awesome-api-plugin</a>. Then you can use any of the solid icons\nby using the new tag <code>svg-icon</code> in your jelly view:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">index.jelly</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:l=\"/lib/layout\" xmlns:fa=\"/font-awesome\"&gt;\n\n  [...]\n  &lt;fa:svg-icon name=\"check-double\" class=\"no-issues-banner\"/&gt;\n  [...]\n\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>If you are generating views using Java code, then you also can use the class <code>SvgTag</code> to generate the\nHTML markup for such an icon.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"boostrap-grid\"><a class=\"anchor\" href=\"#boostrap-grid\"></a>5.2. Grid layout</h3>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-tip\" title=\":bulb:\"></i>\n</td>\n<td class=\"content\">\nJenkins currently includes in all views an old and patched version of Boostrap&#8217;s grid system (with 24 columns). This version\nis not compatible with Boostrap 4 or any of the JS libraries that depend on Bootstrap4. In order to use Bootstrap 4\nfeatures we need to replace the Jenkins provided <code>layout.jelly</code> file with a patched version, that does not load\nthe broken grid system. I&#8217;m planning to create a PR that fixes the grid in Jenkins core, but that will take some time.\nUntil then you will need to use the provided <code>layout.jelly</code> of the Boostrap4 plugin, see below.\n</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>The first thing to decide is, which elements should be shown on a plugin page and how much space each element\nshould occupy. Typically, all visible components are mapped on the available space using a simple grid.\nIn a Jenkins view we have a fixed header and footer and a navigation bar on the left\n(20 percent of the horizontal space). The rest of a screen can be used by\na details view. In order to simplify the distribution of elements in that remaining space we use\n<a href=\"https://getbootstrap.com/docs/4.4/layout/grid/\">Bootstrap&#8217;s grid system</a>.</p>\n</div>\n<div id=\"img-grid\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/grid.png\" alt=\"Grid layout in Jenkins\">\n</div>\n<div class=\"title\">Figure 7. Jenkins layout with a details view that contains a grid system</div>\n</div>\n<div class=\"paragraph\">\n<p>That means, a view is split into 12 columns and and arbitrary number of rows. This grid system is simple to use\n(but complex enough to also support fancy screen layouts) - I won&#8217;t go into\ndetails here, please refer to the <a href=\"https://getbootstrap.com/docs/4.4/layout/grid/\">Bootstrap documentation</a>\nfor details.</p>\n</div>\n<div class=\"paragraph\">\n<p>For the forensics detail view we use a simple grid of two rows and two columns. Since the number of columns always is 12\nwe need to create two \"fat\" columns that fill 6 of the standard columns.\nIn order to create such a view in our\nplugin we need to create a view given as a jelly file and a corresponding Java view model object. A view with this layout\nis shown in the following snippet:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">index.jelly</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;?jelly escape-by-default='true'?&gt;\n&lt;j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:l=\"/lib/layout\" xmlns:bs=\"/bootstrap\"&gt;\n\n  &lt;bs:layout title=\"${it.displayName}\" norefresh=\"true\"&gt; <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n    &lt;st:include it=\"${it.owner}\" page=\"sidepanel.jelly\"/&gt;\n    &lt;l:main-panel&gt;\n      &lt;st:adjunct includes=\"io.jenkins.plugins.bootstrap4\"/&gt; <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\n      &lt;div class=\"fluid-container\"&gt; <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\n\n        &lt;div class=\"row py-3\"&gt; <i class=\"conum\" data-value=\"4\"></i><b>(4)</b>\n          &lt;div class=\"col-6\"&gt; <i class=\"conum\" data-value=\"5\"></i><b>(5)</b>\n            Content of column 1 in row 1\n          &lt;/div&gt;\n          &lt;div class=\"col-6\"&gt; <i class=\"conum\" data-value=\"6\"></i><b>(6)</b>\n            Content of column 2 in row 1\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"row py-3\"&gt; <i class=\"conum\" data-value=\"7\"></i><b>(7)</b>\n          &lt;div class=\"col\"&gt; <i class=\"conum\" data-value=\"8\"></i><b>(8)</b>\n            Content of row 2\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n    &lt;/l:main-panel&gt;\n  &lt;/bs:layout&gt;\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>Use a custom layout based on Bootstrap: since Jenkins core contains an old version of Bootstrap,\nwe need to replace the standard layout.jelly file.</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>Import Bootstrap 4: Importing of JS and CSS components is done using the adjunct concept,\nwhich is the preferred way of referencing static resources within Jenkins' Stapler Web framework.</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td>The whole view will be placed into a fluid container that fills up the whole screen (100% width).</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"4\"></i><b>4</b></td>\n<td>A new row of the view is specified with class <code>row</code>. The additional class <code>py-3</code> defines the padding to use for\nthis row, see <a href=\"https://getbootstrap.com/docs/4.0/utilities/spacing/\">Bootstrap Spacing</a> for more details.</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"5\"></i><b>5</b></td>\n<td>Since Bootstrap automatically splits up a row into 12 equal sized columns we define here\nthat the first column should occupy 6 of these 12 columns. You can also leave off the detailed numbers, then Bootstrap will\nautomatically distribute the content in the available space. Just be aware that this not what you want in most of the times.</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"6\"></i><b>6</b></td>\n<td>The second column uses the remaining space, i.e. 6 of the 12 columns.</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"7\"></i><b>7</b></td>\n<td>The second row uses the same layout as row 1.</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"8\"></i><b>8</b></td>\n<td>There is only one column for row 1, it will fill the whole available space.</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>You can also specify different column layouts for one row, based on the actual visible size of the screen.\nThis helps to improve the layout for larger screens. In the warnings plugin you will find\nan example: on small devices, there is one card visible that shows one pie chart in a carousel. If you are\nopening the same page on a larger device, then two of the pie charts are shown side by side and the carousel is hidden.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"cards\"><a class=\"anchor\" href=\"#cards\"></a>5.3. Cards</h3>\n<div class=\"paragraph\">\n<p>When presenting information of a plugin as a block, typically plain text elements are shown. This will normally result\nin some kind of boring web pages. In order to create a more appealing interface, it makes sense to present such information\nin a card, that has a border, a header, an icon, and so on. In order to create such a\n<a href=\"https://getbootstrap.com/docs/4.4/components/card/\">Bootstrap card</a> a small jelly tag has been provided by the new\n<a href=\"https://github.com/jenkinsci/bootstrap4-api-plugin\">Bootstrap plugin</a> that simplifies this task for a plugin.\nSuch a card can be easily created in a jelly view in the following way:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;bs:card title=\"${%Card Title}\" fontAwesomeIcon=\"icon-name\"&gt;\n  Content of the card\n&lt;/bs:card&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>In <a href=\"#img-card\">Figure 8</a> examples of such cards are shown. The cards in the upper row contain pie charts that show the\ndistribution of the number of authors and commits in the whole repository. The card at the bottom shows the detail\ninformation in a DataTable. The visualization is not limited to charts or tables, you can\nshow any kind of HTML content in there. You can show any icon of your\nplugin in these cards, but it is recommended to use one of the existing <a href=\"https://fontawesome.com\">Font Awesome</a> icons\nto get a consistent look and feel in Jenkins' plugin ecosystem.</p>\n</div>\n<div id=\"img-card\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/card.png\" alt=\"Card examples\">\n</div>\n<div class=\"title\">Figure 8. Bootstraps cards in Jenkins plugins</div>\n</div>\n<div class=\"paragraph\">\n<p>Note that the size of the cards is determined by the grid configuration, see <a href=\"#boostrap-grid\">Section 5.2</a>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"tables\"><a class=\"anchor\" href=\"#tables\"></a>5.4. Tables</h3>\n<div class=\"paragraph\">\n<p>A common UI element to show plugin details is a table control. Most plugins (and Jenkins core) typically use\nplain HTML tables. However, if the table should show a large number of rows then using a more sophisticated control\nlike  <a href=\"https://datatables.net\">DataTables</a> makes more sense. Using this JS based table control provides additional\nfeatures at no cost:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>filter results by text search</p>\n</li>\n<li>\n<p>provide pagination of the result set</p>\n</li>\n<li>\n<p>sort data by multiple columns at once</p>\n</li>\n<li>\n<p>obtain table rows using Ajax calls</p>\n</li>\n<li>\n<p>show and hide columns based on the screen resolution</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>In order to use <a href=\"https://datatables.net\">DataTables</a> in a view there are two options, you can either decorate existing\nstatic HTML tables (see <a href=\"#tables-static\">Section 5.4.1</a>) or populate the table content using Ajax (see <a href=\"#tables-dynamic\">Section 5.4.2</a>).</p>\n</div>\n<div class=\"sect3\">\n<h4 id=\"tables-static\"><a class=\"anchor\" href=\"#tables-static\"></a>5.4.1. Tables with static HTML content</h4>\n<div class=\"paragraph\">\n<p>The easiest way of using DataTables is by creating a static HTML table that will be decorated by simply calling the\nconstructor of the datatable. This approach involves no special handling on the Java and Jelly side, so I think it is\nsufficient to follow the <a href=\"https://datatables.net/examples/basic_init/zero_configuration.html\">example</a> in the DataTables\ndocumentation. Just make sure that after building the table in your Jelly file you need to decorate the table\nwith the following piece of code:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" &gt;\n\n  &lt;st:adjunct includes=\"io.jenkins.plugins.jquery3\"/&gt;\n  &lt;st:adjunct includes=\"io.jenkins.plugins.data-tables\"/&gt;\n\n  [...]\n\n    &lt;div class=\"table-responsive\"&gt;\n        &lt;table class=\"table table-hover table-striped display\" id=\"id\"&gt;\n            [...]\n        &lt;/table&gt;\n    &lt;/div&gt;\n\n  [...]\n  &lt;script&gt;\n     $('#id').DataTable(); <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n  &lt;/script&gt;\n\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>replace <code>id</code> with the ID of your HTML table element</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>In the Forensics plugin no such static table is used so far, but you can have a look at the\n<a href=\"https://github.com/jenkinsci/warnings-ng-plugin/blob/master/src/main/resources/io/jenkins/plugins/analysis/core/model/FixedWarningsDetail/index.jelly\">table that shows fixed warnings</a>\nin the warnings plugin to see how such a table can be decorated.</p>\n</div>\n</div>\n<div class=\"sect3\">\n<h4 id=\"tables-dynamic\"><a class=\"anchor\" href=\"#tables-dynamic\"></a>5.4.2. Tables with dynamic model based content</h4>\n<div class=\"paragraph\">\n<p>While static HTML tables are easy to implement, they have several limitations. So it makes sense to follow a more\nsophisticated approach. Typically, tables in user interfaces are defined by using a corresponding table (and row) model.\nJava Swing successfully provides such a\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\">table model</a> concept since the early days of Java.\nI adapted these concepts for Jenkins and DataTables as well. In order to create a table in a Jenkins view a plugin\nneeds to provide a table model class, that provides the following information:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>the ID of the table (since there might be several tables in the view)</p>\n</li>\n<li>\n<p>the model of the columns (i.e., the number, type, and header labels of the columns)</p>\n</li>\n<li>\n<p>the content of the table (i.e. the individual row objects)</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>You will find an example of such a table in the Forensics plugin: here a table lists\nthe files in your Git repository combined with the corresponding commit statistics (number of authors,\nnumber of commits, last modification, first commit). A screenshot of that table is shown in <a href=\"#img-table\">Figure 9</a>.</p>\n</div>\n<div id=\"img-table\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/table.png\" alt=\"Table example\">\n</div>\n<div class=\"title\">Figure 9. Dynamic Table in the Forensics plugin</div>\n</div>\n<div class=\"paragraph\">\n<p>In order to create such a table in Jenkins, you need to create a table model class that derives from <code>TableModel</code>.\nIn <a href=\"#forensics-table-model\">Figure 10</a> a diagram of the corresponding classes in the Forensics plugin is shown.</p>\n</div>\n<div id=\"forensics-table-model\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/table-model.png\" alt=\"Tabel model\">\n</div>\n<div class=\"title\">Figure 10. Table model of the Forensics plugin</div>\n</div>\n<div class=\"sect4\">\n<h5 id=\"table-column-model\"><a class=\"anchor\" href=\"#table-column-model\"></a>Table column model</h5>\n<div class=\"paragraph\">\n<p>This first thing a table model class defines is a model of the available columns by creating corresponding\n <code>TableColumn</code> instances. For each column you need to specify a header label and the name of the bean property that\nshould be shown in the corresponding column (the row elements are actually Java beans: each column will\nshow one distinct property of such a bean, see next section). You can\nuse any of the <a href=\"https://datatables.net/reference/option/columns.type\">supported column types</a> by simply providing a\n<code>String</code> or <code>Integer</code> based column.</p>\n</div>\n</div>\n<div class=\"sect4\">\n<h5 id=\"table-rows-content\"><a class=\"anchor\" href=\"#table-rows-content\"></a>Table rows content</h5>\n<div class=\"paragraph\">\n<p>Additionally, a table model class provides the content of the rows. This <code>getRows()</code> method\nwill be invoked asynchronously using an Ajax call. Typically, this method simply returns a list of Java Bean instances,\nthat provide the properties of each column (see previous section). These objects will be converted automatically\nto an array of JSON objects, the basic data structure required for the DataTables API.\nYou will find a fully working example table model\nimplementation in the Git repository of the forensics plugin in the class\n<a href=\"https://github.com/jenkinsci/forensics-api-plugin/blob/master/src/main/java/io/jenkins/plugins/forensics/miner/ForensicsTableModel.java\">ForensicsTableModel</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>In order to use such a table in your plugin view you need to create the table in the associated\nJelly file using the new <code>table</code> tag:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">index.jelly</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;j:jelly xmlns:j=\"jelly:core\" xmlns:dt=\"/data-tables\" &gt;\n    [...]\n    &lt;st:adjunct includes=\"io.jenkins.plugins.data-tables\"/&gt;\n\n    &lt;dt:table model=\"${it.getTableModel('id')}\"/&gt; <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n    [...]\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>replace <code>id</code> with the id of your table</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>The only parameter you need to provide for the table is the model&#8201;&#8212;&#8201;it is typically part of the corresponding\nJenkins view model class (this object is referenced with <code>${it}</code> in the view).\nIn order to connect the corresponding Jenkins view model class with the table, the view model class needs to\nimplement the <code>AsyncTableContentProvider</code> interface. Or even simpler, let your view model class derive from\n<code>DefaultAsyncTableContentProvider</code>. This relationship is required, so that Jenkins can automatically create\nand bind a proxy for the Ajax calls that will automatically fill the table content after the HTML page has been created.</p>\n</div>\n<div class=\"paragraph\">\n<p>If we put all those pieces together, we are required to define a model similar to the model of the Forensics plugin,\nthat is shown in <a href=\"#jenkins-view-model\">Figure 11</a>.</p>\n</div>\n<div id=\"jenkins-view-model\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/forensics-view-model.png\" alt=\"Forensics view model\">\n</div>\n<div class=\"title\">Figure 11. Jenkins reporter design - high level view of the model for reporter plugins</div>\n</div>\n<div class=\"paragraph\">\n<p>As already described in <a href=\"#jenkins-reporter-model\">Figure 5</a> the plugin needs to attach a <code>BuildAction</code> to each build. The\nForensics plugin attaches a <code>ForensicBuildAction</code> to the build. This action stores a <code>RepositoryStatistics</code> instance,\nthat contains the repository results for a given build. This action delegates all Stapler requests to a new\nstaplerdoc:org.kohsuke.stapler.StaplerProxy[Stapler proxy instance] so we can keep the\naction clean of user interface code. This <code>ForensicsViewModel</code> class then acts as view model that provides the server\nside model for the corresponding Jelly view given by the file <code>index.jelly</code>.</p>\n</div>\n<div class=\"paragraph\">\n<p>While this approach looks quite complex at a first view, you will see that the actual implementation part\nis quite small. Most of the boilerplate code is already provided by the base classes and you need to implement\nonly a few methods. Using this concept also provides some additional features, that are part of the DataTables plugin:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Ordering of columns is persisted automatically in the browser local storage.</p>\n</li>\n<li>\n<p>Paging size is persisted automatically in the browser local storage.</p>\n</li>\n<li>\n<p>The Ajax calls are actually invoked only if a table will become visible. So if you have\nseveral tables hidden in tabs then the content will be loaded on demand only, reducing the amount of data\nto be transferred.</p>\n</li>\n<li>\n<p>There is an option available to provide an additional details row that can be expanded with a + symbol,\nsee <a href=\"https://github.com/jenkinsci/warnings-ng-plugin/blob/master/doc/images/details.png\">warnings plugin table</a> for details.</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"charts\"><a class=\"anchor\" href=\"#charts\"></a>5.5. Charts</h3>\n<div class=\"paragraph\">\n<p>A plugin reporter typically also reports some kind of trend from build to build. Up to now Jenkins core provides only a\nquite limited concept of rendering such trends as trend charts. The\n<a href=\"http://www.jfree.org/jfreechart/\">JFreeChart framework</a> offered by Jenkins core is a server\nside rendering engine that creates charts as static PNG images that will be included on the job and details pages.\nNowadays, several powerful JS based charting libraries are available, that do the same job\n(well actually an even better job) on the client side. That has the advantage that these charts can be customized\non each client without affecting the server performance. Moreover, you get a lot of additional\nfeatures (like zooming, animation, etc.) for free. Additionally, these charting libraries not only support the typical\nbuild trend charts but also a lot of additional charts types that can be used to improve the user experience of\na plugin.\nOne of those charting libraries is <a href=\"https://echarts.apache.org/en/index.html\">ECharts</a>: this library has a powerful API\nand supports literally every chart type one can image of. You can get some impressions of the features on the\n<a href=\"https://echarts.apache.org/examples/en/\">examples page</a> of the library.</p>\n</div>\n<div class=\"paragraph\">\n<p>In order to use these charts one can embed charts that use this library by importing the corresponding JS files and by\ndefining the chart in the corresponding Jelly file. While that already works quite well it\nwill be still somewhat cumbersome to provide the corresponding model for these charts from Jenkins build results. So\nI added a powerful Java API that helps to create the model for these charts on the Java side. This API provides the\nfollowing features:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Create trend charts based on a collection of build results.</p>\n</li>\n<li>\n<p>Separate the chart type from the aggregation in order to simplify unit testing of the chart model.</p>\n</li>\n<li>\n<p>Toggle the type of the X-Axis between build number or build date (with automatic aggregation of results that\nhave been recorded at the same day).</p>\n</li>\n<li>\n<p>Automatic conversion of the Java model to the required JSON model for the JS side.</p>\n</li>\n<li>\n<p>Support for pie and line charts (more to come soon).</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>Those charts can be used as trend chart in the project page (see <a href=\"#img-job\">Figure 3</a>) or as information chart in the details\nview of a plugin (see <a href=\"#reporter-detail\">Section 5</a>).</p>\n</div>\n<div class=\"sect3\">\n<h4 id=\"pie-charts\"><a class=\"anchor\" href=\"#pie-charts\"></a>5.5.1. Pie charts</h4>\n<div class=\"paragraph\">\n<p>A simple but still informative chart is a pie chart that illustrates numerical proportions of plugin data. In the Forensics\nplugin I am using this chart to show the numerical proportions of the number of authors or commits for the\nsource code files in the Git repository (see <a href=\"#img-card\">Figure 8</a>). In the warnings plugin I use this chart to show the\nnumerical proportions of the new, outstanding, or fixed warnings, see <a href=\"#img-pie\">Figure 12</a>.</p>\n</div>\n<div id=\"img-pie\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/pie.png\" alt=\"Pie chart example\">\n</div>\n<div class=\"title\">Figure 12. Pie chart in the Warnings plugin</div>\n</div>\n<div class=\"paragraph\">\n<p>In order to include such a chart in your details view, you can use the provided <code>pie-chart</code> tag.\nIn the following snippet you see this tag in action (embedded in a Bootstrap card, see <a href=\"#cards\">Section 5.3</a>):</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">index.jelly</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;?jelly escape-by-default='true'?&gt;\n&lt;j:jelly xmlns:j=\"jelly:core\"  xmlns:c=\"/charts\" xmlns:bs=\"/bootstrap\"&gt;\n\n    [...]\n    &lt;bs:card title=\"${%Number of authors}\" fontAwesomeIcon=\"users\"&gt;\n      &lt;c:pie-chart id=\"authors\" model=\"${it.authorsModel}\" height=\"256\" /&gt;\n    &lt;/bs:card&gt;\n    [...]\n\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>You need to provide a unique ID for this chart and the corresponding model value. The model must be the JSON\nrepresentation of a corresponding <code>PieChartModel</code> instance. Such a model can be created with a couple of lines:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">ViewModel.java</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-java\" data-lang=\"java\">    [...]\n    PieChartModel model = new PieChartModel(\"Title\");\n\n    model.add(new PieData(\"Segment 1 name\", 10), Palette.RED);\n    model.add(new PieData(\"Segment 2 name\", 15), Palette.GREEN);\n    model.add(new PieData(\"Segment 3 name\", 20), Palette.YELLOW);\n\n    String json = new JacksonFacade().toJson(model);\n    [...]</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect3\">\n<h4 id=\"trend-charts\"><a class=\"anchor\" href=\"#trend-charts\"></a>5.5.2. Trend charts on the job level view</h4>\n<div class=\"paragraph\">\n<p>In order to show a trend that renders a line chart on the job page (see <a href=\"#img-job\">Figure 3</a>) you need to provide a so called\nfloating box (stored in the file <code>floatingBox.jelly</code> of your job action (see <a href=\"#reporter-structure\">Section 3</a>)).\nThe content of this file is quite simple and contains just a <code>trend-chart</code> tag:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">floatingBox.jelly</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-xml\" data-lang=\"xml\">&lt;?jelly escape-by-default='true'?&gt;\n&lt;j:jelly xmlns:j=\"jelly:core\" xmlns:c=\"/charts\"&gt;\n\n  &lt;c:trend-chart it=\"${from}\" title=\"${%SCM Files Count Trend}\" enableLinks=\"true\"/&gt;\n\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>On the Java side the model for the chart needs to be provided in the corresponding sub class of <code>JobAction</code> (which is\nthe owner of the floating box). Since the computation of trend charts is quite expensive on the server side as well\n(several builds need to be read from disk and the interesting data points need to be computed) this process has been\nput into a separate background job. Once the computation is done the result is shown via an Ajax call. In order to\nhide these details for plugin authors you should simply derive your <code>JobAction</code> class from the corresponding\n<code>AsyncTrendJobAction</code> class, that already contains the boilerplate code. So your static plugin object model will actually\nbecome a little bit more complex:</p>\n</div>\n<div id=\"jenkins-chart-model\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/chart-model.png\" alt=\"Jenkins chart model\">\n</div>\n<div class=\"title\">Figure 13. Jenkins chart model design</div>\n</div>\n<div class=\"paragraph\">\n<p>Basically, you need to implement the method <code>LinesChartModel createChartModel()</code> to create the line\nchart. This method is quite simple to implement, since most of the hard work is provided by the library: you will\ninvoke with an iterator of your build actions, starting with the latest build. The iterator advances from build to build\nuntil no more results are available (or the maximum number of builds to consider has been reached). The most important\nthing to implement in your plugin is the way how data points are computed for a given <code>BuildAction</code>. Here is an example of\nsuch a <code>SeriesBuilder</code> implementation in the Forensics Plugin:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">FilesCountSeriesBuilder.java</div>\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-java\" data-lang=\"java\">package io.jenkins.plugins.forensics.miner;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport edu.hm.hafner.echarts.SeriesBuilder;\n\n/**\n * Builds one x-axis point for the series of a line chart showing the number of files in the repository.\n *\n * @author Ullrich Hafner\n */\npublic class FilesCountSeriesBuilder extends SeriesBuilder&lt;ForensicsBuildAction&gt; {\n    static final String TOTALS_KEY = \"total\";\n\n    @Override\n    protected Map&lt;String, Integer&gt; computeSeries(final ForensicsBuildAction current) {\n        Map&lt;String, Integer&gt; series = new HashMap&lt;&gt;();\n        series.put(TOTALS_KEY, current.getNumberOfFiles());\n        return series;\n    }\n}</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>You are not limited to a single line chart. You can show several lines in a single chart, you can show stacked values,\nor even the delta between some values. You can also have a look at the\n<a href=\"https://github.com/jenkinsci/warnings-ng-plugin/tree/master/src/main/java/io/jenkins/plugins/analysis/core/charts\">charts of the warnings plugin</a>\nto see some of these features in detail.</p>\n</div>\n<div id=\"img-trend\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/trend-lines.png\" alt=\"Trend with several lines example\">\n</div>\n<div class=\"title\">Figure 14. Trend chart with several lines in the Warnings plugin</div>\n</div>\n<div id=\"img-stacked\" class=\"imageblock\">\n<div class=\"content\">\n<img src=\"/images/post-images/2020/01-ui-plugins/trend-stacked.png\" alt=\"Trend chart with stacked lines example\">\n</div>\n<div class=\"title\">Figure 15. Trend chart with stacked lines in the Warnings plugin</div>\n</div>\n</div>\n</div>\n</div>\n</div>","id":"d79e4a42-13d6-5155-8cc3-c8c31c9738ff","title":"Hands On: Beautify the user interface of Jenkins reporter plugins","date":"2020-03-17T00:00:00.000Z","slug":"/blog/2020/03/17/ui-plugins/","links":{"discourse":""},"authors":[{"avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/19e71/uhafner.jpg","srcSet":"/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/77b35/uhafner.jpg 32w,\n/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/d4a57/uhafner.jpg 64w,\n/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/19e71/uhafner.jpg 128w,\n/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/68974/uhafner.jpg 256w","sizes":"(min-width: 128px) 128px, 100vw"},"sources":[{"srcSet":"/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/ef6ff/uhafner.webp 32w,\n/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/8257c/uhafner.webp 64w,\n/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/6766a/uhafner.webp 128w,\n/gatsby-jenkins-io/static/0fb8b41130558af9f99633c80520b3dc/22bfc/uhafner.webp 256w","type":"image/webp","sizes":"(min-width: 128px) 128px, 100vw"}]},"width":128,"height":128}}},"blog":null,"github":"uhafner","html":"<div class=\"paragraph\">\n<p>Ullrich Hafner is an active contributor in the Jenkins project since 2007, mostly in the acceptance test harness and\nthe static code analysis suite (which is now replaced by the Warnings Next Generation Plugin).</p>\n</div>\n<div class=\"paragraph\">\n<p>He is a professor for Software Engineering at the University of Applied Sciences Munich. In his role as professor\nhe tries to win new Jenkins contributors by letting students develop new features and test cases in their student\nprojects and theses.</p>\n</div>","id":"uhafner","irc":null,"linkedin":null,"name":"Ullrich Hafner","slug":"/blog/author/uhafner","twitter":null}]}},"pageContext":{"next":"/blog/2020/03/30/azure-key-vault-cred-provider/","previous":"/blog/2020/03/02/pipeline-authoring-sig-update/","id":"d79e4a42-13d6-5155-8cc3-c8c31c9738ff"}},
    "staticQueryHashes": ["1271460761","3649515864"]}