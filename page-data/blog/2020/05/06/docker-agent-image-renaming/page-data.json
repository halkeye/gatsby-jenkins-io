{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2020/05/06/docker-agent-image-renaming/",
    "result": {"data":{"blog":{"html":"<div class=\"paragraph\">\n<p>We would like to announce the renaming of the official Docker images for Jenkins agents.\nIt does not have any immediate impact on Jenkins users, but they are expected to gradually upgrade their instances.\nThis article provides information about the new official names, upgrade procedure, and the support policy for the old images.\nWe will also talk about what&#8217;s next for the Docker packaging in Jenkins.</p>\n</div>\n<div class=\"paragraph\">\n<p><span class=\"image right center\"><img src=\"/images/docker/dockerJenkins.png\" alt=\"Jenkins and Docker\" height=\"224\"></span></p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"new-image-names\"><a class=\"anchor\" href=\"#new-image-names\"></a>New image names</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins/agent\">jenkins/agent</a> is the new name of the old <a href=\"https://hub.docker.com/r/jenkins/slave\">jenkins/slave</a> image,\nstarting from <a href=\"https://github.com/jenkinsci/docker-agent/releases/tag/4.3-2\">4.3-2</a></p>\n</li>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins/inbound-agent\">jenkins/inbound-agent</a> is the new name of the  <a href=\"https://hub.docker.com/r/jenkins/jnlp-slave\">jenkins/jnlp-slave</a> image,\nstarting from <a href=\"https://github.com/jenkinsci/docker-inbound-agent/releases/tag/4.3-2\">4.3-2</a></p>\n</li>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins/ssh-agent\">jenkins/ssh-agent</a> is the new name of the old <a href=\"https://hub.docker.com/r/jenkins/ssh-slave\">jenkins/ssh-slave</a> image,\nstarting from <a href=\"https://github.com/jenkinsci/docker-ssh-agent/releases/tag/2.0.0\">2.0.0</a></p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>See the upgrade guidelines below.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"why\"><a class=\"anchor\" href=\"#why\"></a>Why?</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The \"slave\" term is widely considered inappropriate in open source communities.\nIt has been officially deprecated in Jenkins 2.0 in 2016, but there are remaining usages in some Jenkins components.\nThe jira:JENKINS-42816[Slave to Agent renaming leftovers] EPIC tracks cleanup of such usages.\nOfficial Docker agent images were a glaring case, it was not easy to fix that with the previous versions of the image release Pipelines on DockerHub.\nIt is great to have the image naming issue finally fixed by this update.</p>\n</div>\n<div class=\"paragraph\">\n<p>Another notable change is replacing the <em>JNLP agent</em> term with <em>inbound agent</em>.\nHistorically \"JNLP\" has been used as a name of <a href=\"https://github.com/jenkinsci/remoting/blob/master/docs/protocols.md\">Remoting protocols</a>.\nJNLP stands for <a href=\"https://en.wikipedia.org/wiki/Java_Web_Start#Java_Network_Launching_Protocol_(JNLP)\">Java Network Launch Protocol</a> which is a part of the Java Web Start.\nJenkins supports Java Web Start mode for agents when running agents on Java 1.8,\nbut our networking protocols are based on TCP and have nothing to do with Java Network Launch Protocol.\nThis name has been very confusing since the beginning\nand became worse with the introduction of WebSocket support in Jenkins 2.217 (jep:222[]).\nDocker agent images support WebSockets, so we decided to change the image name to <a href=\"https://hub.docker.com/r/jenkins/inbound-agent\">jenkins/inbound-agent</a> so that it prevents further confusion.\n<em>Inbound agent</em> term refers to agent protocols in which the agent initiates the connection to the Jenkins controller through different protocols.</p>\n</div>\n<div class=\"paragraph\">\n<p>Thanks a lot to <a href=\"/blog/authors/slide_o_mix/\">Alex Earl</a> and <a href=\"https://github.com/krufab\">krufab</a> for the repository restructuring groundwork which made the renaming possible!\nAlso thanks to <a href=\"/blog/authors/timja/\">Tim Jacomb</a>, <a href=\"/blog/authors/markyjackson-taulia/\">Marky Jackson</a>, <a href=\"/blog/authors/markewaite\">Mark Waite</a>, <a href=\"https://github.com/kuisathaverat\">Ivan Fernandez Calvo</a> and other contributors for their reviews and testing.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"upgrading-and-compatibility-notes\"><a class=\"anchor\" href=\"#upgrading-and-compatibility-notes\"></a>Upgrading and Compatibility Notes</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Good news, there are no breaking changes caused by this renaming.\nAll images have been already modified to use the new terminology internally.\nIf you use the recent versions of the previous images,\nyou can just replace the old names with the new ones.\nThese names may be referenced in your Dockerfiles, scripts, and Jenkins configurations.</p>\n</div>\n<div class=\"paragraph\">\n<p>We will keep updating the old images on DockerHub for at least 3 months (until August 05, 2020).\nThere will be no new configurations and platforms added to the old images,\nbut all existing ones will remain available (Debian for Java 1.8 and 11, Alpine for Java 1.8, etc.).\nAfter August 05, 2020, the old images will no longer receive updates, but previous versions will remain available to users on DockerHub.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"whats-next\"><a class=\"anchor\" href=\"#whats-next\"></a>What&#8217;s next?</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>We will continue renaming of the Docker images in Jenkins components which reference old image names.\nThere is also a set of <a href=\"https://github.com/jenkinsci/jnlp-agents\">convenience Docker images</a> which include build tools like Maven or Gradle which will be renamed later.\nThe <code>jenkins/ssh-agent</code> image might be renamed again in the future as well;\nsee the ongoing discussion in this developer <a href=\"https://groups.google.com/forum/#!msg/jenkinsci-dev/oxD-Hd_7l9k/WAbvqD-wEQAJ\">mailing list thread</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>If you are rather interested in new features in Jenkins Docker packaging,\nstay tuned for future announcements!\nThere are multiple ongoing initiatives which you can find on the <a href=\"/project/roadmap/\">public Jenkins roadmap</a>\n(in the draft stage, see jep:14[]).\nSome stories:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>General availability of Windows images.</p>\n</li>\n<li>\n<p>Support for more platforms (AArch64, IBM s390x, PowerPC).</p>\n</li>\n<li>\n<p>Switching to AdoptOpenJDK.</p>\n</li>\n<li>\n<p>Introducing multi-platform Docker images.</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>If you are interested in any of these projects and would like to contribute,\nplease reach out to the <a href=\"/sigs/platform\">Platform Special Interest Group</a> which coordinates initiatives related to Jenkins in Docker.</p>\n</div>\n<div class=\"paragraph\">\n<p>Regarding the agent terminology cleanup outside Docker images,\nwe will keep working on this project in the <a href=\"/sigs/advocacy-and-outreach\">Advocacy &amp; Outreach SIG</a>.\nIf you see the usage of the obsolete \"slave\" term anywhere in the Jenkins organization (Web UI, documentation, etc.),\nplease feel free to submit a pull request or to report an issue in the jira:JENKINS-42816[Slave to Agent renaming leftovers] EPIC.\nThere are \"just\" <a href=\"https://github.com/search?q=org%3Ajenkinsci+slave&amp;type=Code\">3000 occurences</a> left in the <code>jenkinsci</code> GitHub organization, but we will get there.\nAny contributions will be appreciated!</p>\n</div>\n</div>\n</div>","id":"4e4838ee-bab2-53c0-b338-e2fa90ee89b2","title":"Docker images for agents: New names and What's next","date":"2020-05-06T00:00:00.000Z","slug":"/blog/2020/05/06/docker-agent-image-renaming/","links":{"discourse":""},"authors":[{"avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#b8c8e8","images":{"fallback":{"src":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/bf8e1/oleg_nenashev.png","srcSet":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/914ee/oleg_nenashev.png 32w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/1c9ce/oleg_nenashev.png 64w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/bf8e1/oleg_nenashev.png 128w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/acb7c/oleg_nenashev.png 256w","sizes":"(min-width: 128px) 128px, 100vw"},"sources":[{"srcSet":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/ef6ff/oleg_nenashev.webp 32w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/8257c/oleg_nenashev.webp 64w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/6766a/oleg_nenashev.webp 128w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/22bfc/oleg_nenashev.webp 256w","type":"image/webp","sizes":"(min-width: 128px) 128px, 100vw"}]},"width":128,"height":128}}},"blog":"https://oleg-nenashev.github.io/","github":"oleg-nenashev","html":"<div class=\"paragraph\">\n<p>Jenkins core maintainer and board member.\nOleg started using Hudson for Hardware/Embedded projects in 2008 and became an active Jenkins contributor in 2012.\nNowadays he leads several Jenkins <a href=\"/sigs\">SIGs</a>, outreach programs (<a href=\"/projects/gsoc\">Google Summer of Code</a>, <a href=\"/events/hacktoberfest\">Hacktoberfest</a>) and <a href=\"/projects/jam/\">Jenkins meetups</a> in Switzerland and Russia.\nOleg works for <a href=\"https://www.cloudbees.com/\">CloudBees</a> and focuses on key projects in the community.</p>\n</div>","id":"oleg_nenashev","irc":"oleg_nenashev","linkedin":"onenashev","name":"Oleg Nenashev","slug":"/blog/authors/oleg_nenashev","twitter":"oleg_nenashev"}]}},"pageContext":{"next":"/blog/2020/05/11/docker-windows-agents/","previous":"/blog/2020/04/30/jenkins-is-the-way/","id":"4e4838ee-bab2-53c0-b338-e2fa90ee89b2"}},
    "staticQueryHashes": ["1271460761","3649515864"]}