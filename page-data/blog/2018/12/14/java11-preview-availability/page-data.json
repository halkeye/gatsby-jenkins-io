{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2018/12/14/java11-preview-availability/",
    "result": {"data":{"blog":{"html":"<div class=\"admonitionblock warning\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-warning\" title=\"Warning\"></i>\n</td>\n<td class=\"content\">\n<div class=\"paragraph\">\n<p>Please refer to <a href=\"/doc/administration/requirements/jenkins-on-java-11\">Running Jenkins on Java 11</a> documentation to have the up-to-date details on how to run Jenkins on Java 11.</p>\n</div>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\"></i>\n</td>\n<td class=\"content\">\nThis is a joint blogpost prepared by the <a href=\"https://github.com/orgs/jenkinsci/teams/java11-support\">Java 11 Support Team</a>.\nOn Dec 18 (4PM UTC) we will be also presenting the Java 11 Preview Support at the Jenkins Online Meetup\n(<a href=\"https://www.meetup.com/Jenkins-online-meetup/events/257008190/\">link</a>)\n</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p><span class=\"image right center\"><img src=\"/images/logos/formal/256.png\" alt=\"Jenkins Java\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins, one of the leading open-source automation servers, still supports only Java 8.\nOn September 25 OpenJDK 11 was released.\nThis is a Long-Term-Support which will stay around for years,\nand in the Jenkins project we are interested to offer a full support of this version.\nOver the last year many contributors have been working towards enabling support for Java 11 in the project (Jenkins JEP-211).\nIt was a thorny path,\nbut now, on behalf of the <a href=\"/sigs/platform\">Jenkins Platform SIG</a>,\nwe are happy to announce preview availability of Java 11 support in Jenkins weekly releases!</p>\n</div>\n<div class=\"paragraph\">\n<p>Why do we need preview availability for Java 11?\nIt offers Jenkins contributors and early adopters a way\nto try out the changes before the general availability release happens early next year.\nIt should help us to get more exploratory testing and, hopefully,\nresolve most of the issues before Java 11 is officially supported in Jenkins.</p>\n</div>\n<div class=\"paragraph\">\n<p>In this blog post we will describe how to run with Java 11,\nand how to investigate compatibility issues and report them.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"background\"><a class=\"anchor\" href=\"#background\"></a>Background</h3>\n<div class=\"paragraph\">\n<p>As you probably remember,\nin June 2018 we had an <a href=\"/blog/2018/06/08/jenkins-java10-hackathon/\">online hackathon</a> targeting Java 10+ support in Jenkins.\nAs a part of the hackathon,\nwe provided the <a href=\"/blog/2018/06/17/running-jenkins-with-java10-11/\">experimental support of Java 11</a>.\nThis event was a big success for us,\nand we were able to get Jenkins running with Java 10 and 11-ea,\nincluding major features like Jenkins Pipeline, JobDSL, Docker/Kubernetes plugins, Configuration as Code, BlueOcean, etc.\nIt gave us confidence that we can provide Java 11 support in Jenkins without major breaking changes.\nAfter the hackathon, <a href=\"https://github.com/oleg-nenashev/\">Oleg Nenashev</a> created\njep:211[\"Java 10+ support in Jenkins\"] (was later adjusted to target Java 11 only).\n<a href=\"/sigs/platform\">Platform Special Interest Group</a>\nhas been also founded to coordinate the Java 11 support work\nand other platform support efforts (packaging, operating system support, etc.).</p>\n</div>\n<div class=\"paragraph\">\n<p>A group of contributors continued working on Java 11 support,\nmostly focusing on upstreaming functional patches,\nenabling Java 11 support in development tools,\ntesting and addressing known compatibility issues.\nSee the <a href=\"/sigs/platform/#meetings\">Platform SIG meeting notes</a> for detailed status updates.\nStarting from Jenkins 2.148, Jenkins successfully runs with latest OpenJDK 11 releases on various Linux and Windows platforms.\nWe performed a LOT of automated and exploratory tests, Jenkins plugins appear to work well with some exceptions (see below).\nThere is ongoing test automation effort towards the GA releases,\nbut we were able to successfully run Jenkins core tests,\nfull <a href=\"https://github.com/jenkinsci/acceptance-test-harness/\">Acceptance Test Harness</a>,\nand <a href=\"https://github.com/jenkinsci/plugin-compat-tester\">Plugin Compat Tester</a> for recommended plugins.\nWe also deployed a temporary\n<a href=\"https://github.com/jenkinsci/jep/tree/master/jep/211#temporary-experimental-update-center-for-java-11\">Experimental Update Center for Java 11</a>\nwhich allows quickly delivering fixes for Java 11 early adopters.\nJenkins 2.155+ defaults to this update center when running with Java 11,\nand that&#8217;s why we announce preview availability for this version.</p>\n</div>\n<div class=\"paragraph\">\n<p>On Nov 19, 2018 we presented the current Java 11 support status at the Platform SIG meeting\n<a href=\"https://docs.google.com/presentation/d/1lw4unaFhsQk7a8HzhxhgTK4X2X2ocv_W_VW7aoH2WkM/edit?usp=sharing\">slides</a>,\nand we agreed that we would like to proceed with the preview availability so that\nwe can offer something for evaluation to Jenkins users.\nBy the next meeting on Dec 04, all blockers have been addressed,\nand the Platform SIG meeting signed off the Java 11 preview availability.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"running-jenkins-and-java-11-in-docker\"><a class=\"anchor\" href=\"#running-jenkins-and-java-11-in-docker\"></a>Running Jenkins and Java 11 in Docker</h3>\n<div class=\"paragraph\">\n<p>Starting from Jenkins 2.155, we provide Docker images for the Jenkins controller and agent.\nAll these images are based on the official\n<a href=\"https://hub.docker.com/r/_/openjdk/\">openjdk:11-jdk</a> image maintained by the Docker Community.\nThere were discussions about migrating to other base images,\nbut we decided to exclude it from the Preview Availability scope.\nSimilarly, we do not provide Alpine images for now.</p>\n</div>\n<div class=\"sect3\">\n<h4 id=\"jenkins-controller-image\"><a class=\"anchor\" href=\"#jenkins-controller-image\"></a>Jenkins controller image</h4>\n<div class=\"paragraph\">\n<p>Java 11 support is now provided as a part of the official\n<a href=\"https://hub.docker.com/r/jenkins/jenkins/\">jenkins/jenkins</a> image.\nYou can run the Jenkins with Java 11 simply as:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code>docker run -p 8080:8080 -p 50000:50000 jenkins/jenkins:jdk11</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The following tags are available:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>jdk11</code> - Latest weekly release with Java 11 support</p>\n</li>\n<li>\n<p><code>2.155-jdk11</code> - Weekly releases packaged with Java 11</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>The image is fully compatible with\n<a href=\"https://github.com/jenkinsci/docker/blob/master/README.md\">jenkins/jenkins documentation</a>,\ne.g. you can use <code>plugins.txt</code> to install plugins, mount volumes and pass extra options via environment variables.</p>\n</div>\n</div>\n<div class=\"sect3\">\n<h4 id=\"agent-images\"><a class=\"anchor\" href=\"#agent-images\"></a>Agent images</h4>\n<div class=\"paragraph\">\n<p>If you use containerized agents via Docker or Kubernetes plugins,\nwe have also released official Docker images for Jenkins agents:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins/agent/\">jenkins/agent</a></p>\n</li>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins/inbound-agent/\">jenkins/inbound-agent</a></p>\n</li>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins/ssh-build-agent/\">jenkins/ssh-build-agent</a></p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>All images use the <code>latest-jdk11</code> image tag for JDK11 bundles.\nAnd sorry for the obsolete names!</p>\n</div>\n</div>\n<div class=\"sect3\">\n<h4 id=\"experimental-jenkins-controller-images\"><a class=\"anchor\" href=\"#experimental-jenkins-controller-images\"></a>Experimental Jenkins controller images</h4>\n<div class=\"paragraph\">\n<p>In order to simplify testing, we also provide some experimental images on DockerHub.\nWe set up a continuous delivery flow for them,\nso you can get patches without waiting for Jenkins weekly releases.</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins4eval/blueocean-platform-support/\">jenkins4eval/blueocean-platform-support</a> -\nEquivalent of <a href=\"https://hub.docker.com/r/jenkinsci/blueocean/\">jenkinsci/blueocean</a></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Tag: <code>latest-jdk11</code></p>\n</li>\n<li>\n<p>The image bundles all Jenkins Pipeline and Blue Ocean patches required to run on Java 11</p>\n</li>\n<li>\n<p>If you want to try Pipeline, use this image</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><a href=\"https://hub.docker.com/r/jenkins/jenkins-experimental/\">jenkins/jenkins-experimental</a> -\nEquivalent of <a href=\"https://hub.docker.com/r/jenkins/jenkins/\">jenkins/jenkins</a></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Tag: <code>latest-jdk11</code></p>\n</li>\n<li>\n<p>The image is released from the <code>java11-support</code> feature branch in the Jenkins core</p>\n</li>\n<li>\n<p>The branch may be slightly ahead or behind the <code>master</code> branch,\nwe may use the branch to quickly deliver patches to Java 11 users</p>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>Eventually we will move the experimental flow to the new <code>jenkins4eval</code> organization\nbeing created as a part of jep:217[].</p>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"running-jenkins-war-with-java-11\"><a class=\"anchor\" href=\"#running-jenkins-war-with-java-11\"></a>Running jenkins.war with Java 11</h3>\n<div class=\"paragraph\">\n<p>Running without Docker is not that trivial,\nbecause Jenkins depends on some modules which have been removed from Java 11.\nWe plan to address it in the General Availability release somehow (see jira:JENKINS-52186[]),\nbut for now some manual actions are required to run Jenkins WAR with Java 11.</p>\n</div>\n<div class=\"olist arabic\">\n<ol class=\"arabic\">\n<li>\n<p>Download Jenkins WAR for 2.155</p>\n</li>\n<li>\n<p>Download the following libraries to the same directory as jenkins.war</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://central.maven.org/maven2/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar\">jaxb-api-2.3.0.jar</a> (save as jaxb-api.jar)</p>\n</li>\n<li>\n<p><a href=\"https://central.maven.org/maven2/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-core-2.3.0.1.jar\">jaxb-core-2.3.0.1.jar</a> (save as jaxb-core.jar)</p>\n</li>\n<li>\n<p><a href=\"https://central.maven.org/maven2/com/sun/xml/bind/jaxb-impl/2.3.0.1/jaxb-impl-2.3.0.1.jar\">jaxb-impl-2.3.0.1.jar</a> (save as jaxb-impl.jar)</p>\n</li>\n<li>\n<p><a href=\"https://github.com/javaee/activation/releases/download/JAF-1_2_0/javax.activation.jar\">javax.activation v.1.2.0</a>  (save as javax.activation.jar)</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>Run the following command:</p>\n</li>\n</ol>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-shell\" data-lang=\"shell\">Run Jenkins with ${JAVA11_HOME}/bin/java \\\n    -p jaxb-api.jar:javax.activation.jar --add-modules java.xml.bind,java.activation \\\n    -cp jaxb-core.jar:jaxb-impl.jar \\\n    -jar jenkins.war --enable-future-java --httpPort=8080 --prefix=/jenkins</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"known-compatibility-issues\"><a class=\"anchor\" href=\"#known-compatibility-issues\"></a>Known compatibility issues</h3>\n<div class=\"paragraph\">\n<p>To help users to track down the compatibility issues,\nwe have created a new <a href=\"https://wiki.jenkins.io/display/JENKINS/Known+Java+11+Compatibility+issues\">Known Java 11 Compatibility Issues</a> Wiki page.</p>\n</div>\n<div class=\"paragraph\">\n<p>Several important issues and obstacles:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://plugins.jenkins.io/workflow-support\">Pipeline: Support Plugin</a> has a known issue\nwith context persistency when running with Java 11 (jira:JENKINS-51998[])</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>We have deployed a temporary fix to the\n<a href=\"https://github.com/jenkinsci/jep/tree/master/jep/211#temporary-experimental-update-center-for-java-11\">Experimental Update Center for Java 11</a>.\n Fix version: <code>3.0-java11-alpha-1</code></p>\n</li>\n<li>\n<p>If you use Jenkins Pipeline, make sure you run with this fix.\nOtherwise the jobs will fail almost immediately</p>\n</li>\n<li>\n<p>When updating instances to Java 11, make sure there is no running Pipelines</p>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p>jira:JENKINS-54305[] -\n<a href=\"https://plugins.jenkins.io/jdk-tool\">JDK Tool Plugin</a> does not offer installers for JDK 11</p>\n</li>\n<li>\n<p>jira:JENKINS-52282[] -\nJava Web Start is no longer available in Java 11, so it is no longer possible to start agents from Web UI.\nWe do not plan to provide a replacement.</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>We also know about some minor incompatibilities in other plugins,\nbut we do not consider them as blockers for preview availability.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"reporting-compatibility-issues\"><a class=\"anchor\" href=\"#reporting-compatibility-issues\"></a>Reporting compatibility issues</h3>\n<div class=\"paragraph\">\n<p>If you discover any Java 11 incompatibilities, please\n<a href=\"https://wiki.jenkins.io/display/JENKINS/How+to+report+an+issue\">report issues in our bugtracker</a>.\nPlease set <code>java11-compatibility</code> labels for such issues\nso that they automatically appear on the Wiki page and get triaged.</p>\n</div>\n<div class=\"paragraph\">\n<p>For the security issues please use the standard\n<a href=\"https://jenkins.io/security/#reporting-vulnerabilities\">vulnerability reporting process</a>.\nAlthough we will be fixing Java 11 specific issues in public while it is in the preview,\nfollowing the security process will help us to investigate impact on Java 8 users.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"java-11-support-team\"><a class=\"anchor\" href=\"#java-11-support-team\"></a>Java 11 Support Team</h3>\n<div class=\"paragraph\">\n<p>Once Java 11 support is released, we expect reports of regressions in plugins and Jenkins core.\nOne of the concerns are exotic platforms with native libraries, and of course other Java versions.\nThere is also a risk of 3rd-party library incompatibilities with Java 11.\nTo mitigate the risks, we have created a\n<a href=\"https://github.com/orgs/jenkinsci/teams/java11-support\">Java 11 Support Team</a>.\nThis team will be focusing on triaging the incoming issues,\nhelping to review pull requests and, in some cases, delivering the fixes.\nThe process for this team is <a href=\"https://github.com/jenkinsci/jep/tree/master/jep/211#post-release-support\">documented</a> in JEP-211.</p>\n</div>\n<div class=\"paragraph\">\n<p>We do not expect the <em>Java 11 Support Team</em> to be able to fix all discovered issues,\nand we will be working with Jenkins core and plugin maintainers to get the fixes delivered.\nIf you are interested to join the team,\nreach out to us in the <a href=\"https://gitter.im/jenkinsci/platform-sig\">Platform SIG Gitter Channel</a>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"contributing\"><a class=\"anchor\" href=\"#contributing\"></a>Contributing</h3>\n<div class=\"paragraph\">\n<p>We will appreciate any kind of contributions in the Java 11 effort,\nincluding trying out Jenkins with Java 11, reporting and fixing compatibility issues.</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>If you want to do the exploratory testing,\nwe recommend to try out Java 11 support at one of your test instances.\nSuch testing will be much appreciated,\nespecially if you use some service integration plugins or exotic platforms.\nThe issue reporting guidelines are provided <a href=\"/blog/2018/12/14/java11-preview-availability/#reporting-compatibility-issues\">above</a></p>\n</li>\n<li>\n<p>If you are a plugin developer/maintainer,\nwe would appreciate if you could test your plugin with Java 11.\nIn order to help with that, we have created a Wiki page with\n<a href=\"https://wiki.jenkins.io/display/JENKINS/Java+11+Developer+Guidelines\">Java 11 Developer guidelines</a>.\nThis page explains how to build and test plugins with Java 11,\nand it also lists known issues in development tools</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>Whatever you do, please let us know about your experience by sending a message to\nthe <a href=\"https://groups.google.com/forum/#!forum/jenkins-platform-sig\">Platform SIG mailing list</a>.\nSuch information will help us a lot to track changes and contributions.\nAny other feedback about the migration complexity will be appreciated!</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"whats-next\"><a class=\"anchor\" href=\"#whats-next\"></a>What&#8217;s next?</h3>\n<div class=\"paragraph\">\n<p>On Dec 18 (4PM UTC) we will be presenting the Java 11 Preview Support at the Jenkins Online Meetup\n(<a href=\"https://www.meetup.com/Jenkins-online-meetup/events/257008190/\">link</a>).\nAt this meetup we will summarize the current Java 11 Preview support status.\nIf you are a plugin developer, we will also organize separate sessions about testing plugins with Java 11 and about common best practices for fixing compatibility issues.\nPlease follow the Platform SIG announcements if you are interested.</p>\n</div>\n<div class=\"paragraph\">\n<p>In the next weeks we will focus on addressing feedback from early adopters and\nfixing the discovered compatibility issues.\nWe will also continue working on Java 11 support patches towards the general availability next year (jira:JENKINS-51805[]).\nIn addition to that, we will start working on Java 11 support in subprojects,\nincluding <a href=\"https://jenkins-x.io\">Jenkins X</a> and <a href=\"/projects/evergreen/\">Jenkins Evergreen</a>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"links\"><a class=\"anchor\" href=\"#links\"></a>Links</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/jenkinsci/jep/tree/master/jep/211\">JEP-211: Java 11 support in Jenkins</a></p>\n</li>\n<li>\n<p><a href=\"/doc/administration/requirements/java/\">Java requirements in Jenkins</a></p>\n</li>\n<li>\n<p><a href=\"https://wiki.jenkins.io/display/JENKINS/Known+Java+11+Compatibility+issues\">Known Java 11 Compatibility Issues</a></p>\n</li>\n<li>\n<p><a href=\"https://wiki.jenkins.io/display/JENKINS/Java+11+Developer+Guidelines\">Java 11 Developer guidelines</a></p>\n</li>\n<li>\n<p><a href=\"/sigs/platform/\">Platform Special Interest Group</a></p>\n</li>\n</ul>\n</div>\n</div>","id":"cc052415-dba7-5a62-91d8-3f6906f485d9","title":"Java 11 Support Preview is available in Jenkins 2.155+","date":"2018-12-14T00:00:00.000Z","slug":"/blog/2018/12/14/java11-preview-availability/","links":{"discourse":""},"authors":[{"avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#b8c8e8","images":{"fallback":{"src":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/bf8e1/oleg_nenashev.png","srcSet":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/914ee/oleg_nenashev.png 32w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/1c9ce/oleg_nenashev.png 64w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/bf8e1/oleg_nenashev.png 128w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/acb7c/oleg_nenashev.png 256w","sizes":"(min-width: 128px) 128px, 100vw"},"sources":[{"srcSet":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/ef6ff/oleg_nenashev.webp 32w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/8257c/oleg_nenashev.webp 64w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/6766a/oleg_nenashev.webp 128w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/22bfc/oleg_nenashev.webp 256w","type":"image/webp","sizes":"(min-width: 128px) 128px, 100vw"}]},"width":128,"height":128}},"publicURL":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/oleg_nenashev.png"},"blog":"https://oleg-nenashev.github.io/","github":"oleg-nenashev","html":"<div class=\"paragraph\">\n<p>Jenkins core maintainer and board member.\nOleg started using Hudson for Hardware/Embedded projects in 2008 and became an active Jenkins contributor in 2012.\nNowadays he leads several Jenkins <a href=\"/sigs\">SIGs</a>, outreach programs (<a href=\"/projects/gsoc\">Google Summer of Code</a>, <a href=\"/events/hacktoberfest\">Hacktoberfest</a>) and <a href=\"/projects/jam/\">Jenkins meetups</a> in Switzerland and Russia.\nOleg works for <a href=\"https://www.cloudbees.com/\">CloudBees</a> and focuses on key projects in the community.</p>\n</div>","id":"oleg_nenashev","irc":"oleg_nenashev","linkedin":"onenashev","name":"Oleg Nenashev","slug":"/blog/authors/oleg_nenashev","twitter":"oleg_nenashev"}]}},"pageContext":{"id":"cc052415-dba7-5a62-91d8-3f6906f485d9"}},
    "staticQueryHashes": ["1271460761","3649515864"]}