{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2018/06/27/lessons-java10-hackathon/",
    "result": {"data":{"blog":{"html":"<div class=\"paragraph\">\n<p>Last week I participated in the\n<a href=\"/blog/2018/06/08/jenkins-java10-hackathon/\">Jenkins &amp; Java 10 Online Hackathon</a>.\nIt was my first Jenkins hackathon and I roped in\n<a href=\"https://github.com/jonahgraham\">Jonah Graham</a> to do some pair-programming.\nThe hackathon featured JDK Project Jigsaw committers Mandy Chung and Paul Sandoz,\nas well as Jenkins creator Kohsuke Kawaguchi.\nIt was a great opportunity for me to learn a lot about Jenkins and Java 10.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"why-java-10\"><a class=\"anchor\" href=\"#why-java-10\"></a>Why Java 10?</h3>\n<div class=\"paragraph\">\n<p>With the\n<a href=\"https://www.oracle.com/technetwork/java/eol-135779.html\">Java 8 EoL data looming</a>,\nthe focus was on the current available version of Java, Java 10.\nJava 10 offers some nice new features and APIs, not least\n<a href=\"https://blog.docker.com/2018/04/improved-docker-container-integration-with-java-10/\">improved docker container integration</a>.\nWe learned from Paul of a number of projects with Java 10 migration success stories including Elasticsearch, Kafka &amp; Netty.</p>\n</div>\n<div class=\"paragraph\">\n<p>At the beginning of the hackathon week, the Jenkins Pipeline feature would crash out when using Java 10.\nThis was resolved with a number of fixes including the upgrade of the\n<a href=\"https://asm.ow2.io/\">ASM library</a>.\nThen it was nice to see things\n<a href=\"/blog/2018/06/19/jenkins-java10-hackathon-day2/\">up and running with Java 10</a>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"getting-up-running\"><a class=\"anchor\" href=\"#getting-up-running\"></a>Getting up &amp; running</h3>\n<div class=\"paragraph\">\n<p>The first steps were to do some exploratory testing using\n<a href=\"/blog/2018/06/17/running-jenkins-with-java10-11\">Jenkins with Java 10 via Docker</a>, thanks to\n<a href=\"https://github.com/oleg-nenashev\">Oleg</a> for providing clear instructions.\nThis was boringly straightforward as most things worked and we only found one\n<a href=\"https://issues.jenkins.io/browse/JENKINS-52069\">issue</a> to report.\nNext to try to get some patches in, we needed to set-up a dev environment.\nThe live session gave us what we needed to set up a\n<a href=\"https://wiki.jenkins.io/display/JENKINS/Plugin+tutorial\">plugin</a> or\n<a href=\"https://github.com/jenkinsci/jenkins/blob/master/CONTRIBUTING.md\">core</a> dev environment.\nOne open question we had was whether Jenkins has semantic versioning and\n<a href=\"https://help.eclipse.org/oxygen/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Ftasks%2Fapi_tooling_setup.htm\">API tools</a>\nto help identify when you might be breaking backwards compatibility.\nOverall it was straightforward to get a dev environment up and running.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"java-10-new-apis\"><a class=\"anchor\" href=\"#java-10-new-apis\"></a>Java 10 New APIs</h3>\n<div class=\"paragraph\">\n<p>The next step was to find an issue which we could help resolve.\nMany of the Java 10 issues were related to 'Illegal reflective access' from various plugins or third-party libraries.\nHowever after investigating a couple, removing these warnings required a good architectural knowledge of the plugin or core code itself.\nIn the end we decided that messing around with classloaders or attempting to upgrade version of jdom was not one for the newbies.</p>\n</div>\n<div class=\"paragraph\">\n<p>Instead we looked at\n<a href=\"https://github.com/jenkinsci/parameterized-scheduler-plugin/pull/10\">removing reflection</a>\nin cases of isAccessible calls.\nWe found the\n<a href=\"https://www.javaworld.com/article/3176874/java-language/java-9s-other-new-enhancements-part-3.html\"><code>ProcessHandle</code></a>\napi very useful and a good replacement for some misuse of reflection, and even better it made the code work on Windows too.\nMandy also pointed us to look at the\n<a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/MethodHandles.Lookup.html\"><code>Lookup</code> api</a>\nas possible alternate to findClass calls.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"multi-release-jar-builds\"><a class=\"anchor\" href=\"#multi-release-jar-builds\"></a>Multi-Release JAR Builds</h3>\n<div class=\"paragraph\">\n<p>Using new APIs is all well and good but presents a problem when you want to maintain backwards compatibility with Java 8.\nHence the need for some sort of multi-jar solution -\n<a href=\"https://github.com/ndeloof\">Nicolas De loof</a> proposed one such solution for\n<a href=\"https://blog.loof.fr/2018/06/multi-release-jar-with-maven.html\">multi-release jars with Maven</a> for this case.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"sun-misc-signal\"><a class=\"anchor\" href=\"#sun-misc-signal\"></a>sun.misc.Signal</h3>\n<div class=\"paragraph\">\n<p>The Java Signal API is being deprecated, but so far <a href=\"https://wiki.openjdk.java.net/display/JDK8/Java+Dependency+Analysis+Tool\">no replacement APIs</a>\nare available for signal handling.\nJenkins makes use of the Signal APIs so a big question for the Jigsaw team was whether this would be replaced going forward.\nKohsuke pointed out how it is important for Java to maintain this UNIX like behaviour as it shouldn&#8217;t matter to end users that Jenkins is written in Java.\nIt seems these APIs will be replaced in due course, they just\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8087286\">aren&#8217;t there right now</a>.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"collaboration-collaboration-collaboration\"><a class=\"anchor\" href=\"#collaboration-collaboration-collaboration\"></a>Collaboration, Collaboration, Collaboration</h3>\n<div class=\"paragraph\">\n<p>It was great to have the discussions with the Jigsaw team.\nThey reminded us how they need to know the Java use cases out there and how their team uses these to feed into their development process.\nIn turn, the hackathon had Jenkins community members participate, for instance\n<a href=\"https://github.com/gmacario/easy-jenkins\">easy-jenkins</a> was up and running with Java 10 by the end of the week.\nThe hackathon had a great feeling of community spirit and was a reminder why collaborations with communities and also between different communities can be powerful and fun for all involved.</p>\n</div>\n<div class=\"paragraph\">\n<p>At the end of the week Jonah and I were both happy that we made our first Jenkins contributions (which were reviewed and merged quickly).\nThanks to all who participated and made it highly enjoyable, especially Oleg for great organization.\nI look forward to the next one!</p>\n</div>\n</div>","id":"fdf34f60-9243-5d28-b9d3-ea140833ede2","title":"What I learned from the Jenkins & Java 10+ Hackathon","date":"2018-06-27T00:00:00.000Z","slug":"/blog/2018/06/27/lessons-java10-hackathon/","authors":[{"avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#c8c8c8","images":{"fallback":{"src":"/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/f84eb/tracymiranda.jpg","srcSet":"/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/6105b/tracymiranda.jpg 32w,\n/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/9d80c/tracymiranda.jpg 64w,\n/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/f84eb/tracymiranda.jpg 128w,\n/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/a5e1e/tracymiranda.jpg 256w","sizes":"(min-width: 128px) 128px, 100vw"},"sources":[{"srcSet":"/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/a4758/tracymiranda.webp 32w,\n/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/fec68/tracymiranda.webp 64w,\n/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/fe590/tracymiranda.webp 128w,\n/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/c2c8e/tracymiranda.webp 256w","type":"image/webp","sizes":"(min-width: 128px) 128px, 100vw"}]},"width":128,"height":116}},"publicURL":"/gatsby-jenkins-io/static/36f2862463dddd3649a3901f5cb4f6ed/tracymiranda.jpg"},"blog":"https://tracymiranda.com/","github":"tracymiranda","html":"<div class=\"paragraph\">\n<p>Tracy is the Director of Open Source Community at CloudBees, long time open source contributor and evangelist.</p>\n</div>","id":"tracymiranda","irc":"tracymiranda","linkedin":null,"name":"Tracy Miranda","slug":"/blog/authors/tracymiranda/","twitter":"tracymiranda"}]}},"pageContext":{"id":"fdf34f60-9243-5d28-b9d3-ea140833ede2"}},
    "staticQueryHashes": ["1271460761","3649515864"]}