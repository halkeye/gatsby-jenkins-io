{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2018/06/21/jenkins-x-devpods/",
    "result": {"data":{"blog":{"html":"<div class=\"paragraph\">\n<p>I use macOS day to day, and often struggle to keep my devtools up to date.\nThis isn&#8217;t any fault of packaging or tools, more just that I get tired of seeing the beachball:</p>\n</div>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-06-21-devpods/beachball.png\" alt=\"beachball\" title=\"beachball\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p>The demands on dev machines grow, developers are now working across a more diverse\nset of technologies than just a JVM or a single scripting language these days.</p>\n</div>\n<div class=\"paragraph\">\n<p>This keeping up to date is a drag on time (and thus money).\nThere are lots of costs involved with development, and I\n<a href=\"https://www.cloudbees.com/blog/dont-install-kubernetes\">have written about</a>\nabout the machine cost for development (how using something like GKE can be much\ncheaper than buying a new machine) but there is also the cost of a developer’s time.\nThankfully, there are ways to apply the same smarts here to save time as well as money.\n And time is money, or money is time?</p>\n</div>\n<div class=\"paragraph\">\n<p>Given all the work done in automating the detection and installation of required\ntools, environments, and libraries that goes on when you run ‘jx import’ in\n<a href=\"https://jenkins-x.io/\">Jenkins X</a>,\nit makes sense to also make those available for development time,\nand the concept of “DevPods” was born.</p>\n</div>\n<div class=\"paragraph\">\n<p><em>The <code>pod</code> part of the name comes from the Kubernetes concept of pods (but you don’t have to know about Kubernetes or pods to use Jenkins X. There is a lot to Kubernetes but Jenkins X aims to provide a developer experience that doesn’t require you to understand it).</em></p>\n</div>\n<div class=\"paragraph\">\n<p>Why not use Jenkins X from code editing all the way to production,\nbefore you even commit the code or open a pull request?\nAll the tools are there, all the environments are there, ready to use (as they are used at CI time!).</p>\n</div>\n<div class=\"paragraph\">\n<p>This rounds out the picture: Jenkins X aims to deal with the whole lifecycle for you,\nfrom ideas/issues, change requests, testing, CI/CD, security and compliance verification,\nrollout and monitoring. So it totally makes sense to include the actual dev time tools.</p>\n</div>\n<div class=\"paragraph\">\n<p>If you have an existing project, you can create a DevPod by running (with the jx command):</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-bash\" data-lang=\"bash\">jx create devpod</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>This will <em>detect</em> what type of project is (using build packs) and create a DevPod\nfor you with all the tools pre-installed and ready to go.</p>\n</div>\n<div class=\"paragraph\">\n<p>Obviously, at this point you want to be able to make changes to your app and try it out.\nEither run unit tests in the DevPod, or perhaps see some dev version of the app running in your browser (if it is a web app).\nWeb-based code editors have been a holy grail for some time, but never have quite taken off in the mainstream of developers (despite there being excellent ones out there, most developers prefer to develop on their desktop).\nIronically, the current crop of popular editors are based around\n<a href=\"https://github.com/electron/electron\">“electron”</a> which is actually a web technology stack,\nbut it runs locally (Visual Studio Code is my personal favourite at the moment),\nin fact Visual Studio Code has a Jenkins X extension (but you don’t have to use it):</p>\n</div>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-06-21-devpods/jx-tools.png\" alt=\"jx tools\" title=\"jx tools\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p>To get your changes up to the Dev Pod, in a fresh shell run (and leave it running):</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-bash\" data-lang=\"bash\">jx sync</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>This will watch for any changes locally (say you want to edit files locally on your desktop)\nand sync them to the Dev Pod.</p>\n</div>\n<div class=\"paragraph\">\n<p>Finally, you can have the Dev Pod automatically deploy an “edit” version of the\napp on every single change you make in your editor:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-bash\" data-lang=\"bash\">jx create devpod --sync --reuse\n./watch.sh</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The first command will create or reuse an existing Dev Pod and open a shell to it,\nthen the <em>watch</em> command will pick up any changes, and deploy them to your “edit” app.\nYou can keep this open in your browser, make a change, and just refresh it.\nYou don’t need to run any dev tools locally, or any manual commands in the Dev Pod to do this, it takes care of that.</p>\n</div>\n<div class=\"paragraph\">\n<p>You can have many DevPods running (jx get devpods), and you could stop them at the end of the day (jx delete devpod), start them at the beginning, if you like (or as I say: keep them running in the hours between coffee and beer). A pod uses resources on your cluster, and as the Jenkins X project fleshes out its support for dev tools (via things like VS Code extensions) you can expect even these few steps to be automated away in the near future, so many of the above instructions will not be needed!</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"end-to-end-experience\"><a class=\"anchor\" href=\"#end-to-end-experience\"></a>End-to-end experience</h3>\n<div class=\"paragraph\">\n<p>So bringing it all together, let me show a very wide (you may need to zoom out) screen shot of this workflow:</p>\n</div>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-06-21-devpods/end-end.png\" alt=\"end end\" title=\"end to end\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p>From <code>Left</code> to <code>Right</code>:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>I have my editor (if you look closely, you can see the Jenkins X extension showing the state of apps,\npipelines and the environments it is deployed to).</p>\n</li>\n<li>\n<p>In the middle I have jx sync running, pushing changes up to the cloud from the editor,\nand also the ‘watch’ script running in the DevPod. This means every change I make in my editor,\na temporary version of the app (and its dependencies are deployed).</p>\n</li>\n<li>\n<p>On the right is my browser open to the “edit” version of the app.\nJenkins X automatically creates an “edit” environment for live changes,\nso if I make a change to my source on the left, the code is synced,\nbuild/tested and updated so I can see the change on the right\n(but I didn’t build anything locally, it all happens in the DevPod on Jenkins X).</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p><em>On visual studio code: The Jenkins X extension for visual studio code can automate the creation of devpods and syncing for you. Expect richer support soon for this editor and others.</em></p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"explaining-things-with-pictures\"><a class=\"anchor\" href=\"#explaining-things-with-pictures\"></a>Explaining things with pictures</h3>\n<div class=\"paragraph\">\n<p>To give a big picture of how this hangs together:</p>\n</div>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-06-21-devpods/picture.png\" alt=\"picture\" title=\"big picture\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p>In my example, GitHub is still involved, but I don’t push any changes back to it until I am happy with the state of my “edit app” and changes.\nI run the editor on my local workstation and jx takes care of the rest.\nThis gives a tight feedback loop for changes. Of course, you can use any editor you like,\nand build and test changes locally (there is no requirement to use DevPods to make use of Jenkins X).</p>\n</div>\n<div class=\"paragraph\">\n<p>Jenkins X comes with some ready to go environments: development, staging and production (you can add more if you like).\nThese are implemented as Kubernetes namespaces to avoid the wrong app things talking to the wrong place.\nThe development environment is where the dev tools live: and this is also where the DevPods can live!\nThis makes sense as all the tools are available, and saves the hassle of you having slightly different\nversions of tools on your local workstation than what you are using in your pipeline.</p>\n</div>\n<div class=\"paragraph\">\n<p>DevPods are an interesting idea, and at the very least a cool name!\nThere will be many more improvements/enhancements in this area, so keep an eye out for them.\nThey are a work in progress, so do check the documentation page for better ways to use them.</p>\n</div>\n<div class=\"paragraph\">\n<p>Some more reading:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Docs on <a href=\"https://jenkins-x.io/developing/devpods/\">DevPods</a> on jenkins-x.io</p>\n</li>\n<li>\n<p>The <a href=\"https://github.com/jenkins-x/vscode-jx-tools\">Visual Studio Code extension</a>\nfor Jenkins X (what a different world: an open source editor by Microsoft!)</p>\n</li>\n<li>\n<p>James Strachan’s <a href=\"https://jenkins-x.io/demos/devoxx-uk-2018/\">great intro</a>\nto Jenkins X talk at Devoxx-UK also   includes a DevPod demo</p>\n</li>\n</ul>\n</div>\n</div>","id":"f197eae4-55a6-578b-aa6b-0f8809ef8608","title":"Using Jenkins X DevPods for development","date":"2018-06-21T00:00:00.000Z","slug":"/blog/2018/06/21/jenkins-x-devpods/","authors":[{"avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#181818","images":{"fallback":{"src":"/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/19e71/michaelneale.jpg","srcSet":"/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/77b35/michaelneale.jpg 32w,\n/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/d4a57/michaelneale.jpg 64w,\n/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/19e71/michaelneale.jpg 128w","sizes":"(min-width: 128px) 128px, 100vw"},"sources":[{"srcSet":"/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/ef6ff/michaelneale.webp 32w,\n/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/8257c/michaelneale.webp 64w,\n/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/6766a/michaelneale.webp 128w","type":"image/webp","sizes":"(min-width: 128px) 128px, 100vw"}]},"width":128,"height":128}},"publicURL":"/gatsby-jenkins-io/static/75c8520897a1db139d524965f5bb7ccc/michaelneale.jpg"},"blog":null,"github":"michaelneale","html":"<div class=\"paragraph\">\n<p>Michael is a CD enthusiast with a interest in User Experience.\nHe is a co-founder of CloudBees and a long time OSS developer, and can often be found\nlurking around the jenkins-dev mailing list or #jenkins on irc (same nick as twitter name).\nBefore CloudBees he worked at Red Hat.</p>\n</div>","id":"michaelneale","irc":null,"linkedin":null,"name":"Michael Neale","slug":"/blog/authors/michaelneale/","twitter":"michaelneale"}]}},"pageContext":{"id":"f197eae4-55a6-578b-aa6b-0f8809ef8608"}},
    "staticQueryHashes": ["1271460761","3649515864"]}