{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2018/07/30/introducing-cloud-native-sig/",
    "result": {"data":{"blog":{"html":"<div class=\"paragraph\">\n<p>On large-scale Jenkins instances controller disk and network I/O become bottlenecks in particular cases.\nBuild logging and artifact storage were one for the most intensive I/O consumers,\nhence it would be great to somehow redirect them to an external storage.\nBack in 2016 there were active discussions about such Pluggable Storage for Jenkins.\nAt that point we created several prototypes, but then other work took precedence.\nThere was still a high demand in Pluggable Storage for large-scale instances,\nand these stories also become a major obstacle for cloud native Jenkins setups.</p>\n</div>\n<div class=\"paragraph\">\n<p>I am happy to say that the Pluggable Storage discussions are back online.\nYou may have seen changes in the Core for Artifact Storage\n(<a href=\"https://github.com/jenkinsci/jep/blob/master/jep/202/README.adoc\">JEP-202</a>)\nand a new <a href=\"https://plugins.jenkins.io/artifact-manager-s3\">Artifact Manager for S3 plugin</a>.\nWe have also created a number of JEPs for External Logging\nand created a new <a href=\"/sigs/cloud-native\">Cloud Native Special Interest Group (SIG)</a>\nto offer a venue for discussing changes and to keep them as open as possible.</p>\n</div>\n<div class=\"paragraph\">\n<p>Tomorrow <a href=\"https://github.com/jglick\">Jesse Glick</a> and I will be\npresenting the current External Logging designs at the\nCloud Native SIG online meeting,\nyou can find more info about the meeting <a href=\"https://groups.google.com/forum/#!topic/jenkins-cloud-native-sig/rvc4qfl8Ks4\">here</a>.\nI decided that it is a good time to write about the new SIG.\nIn this blogpost I will try to provide my vision of the SIG and its purpose.\nI will also summarize the current status of the activities in the group.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"what-are-special-interest-groups\"><a class=\"anchor\" href=\"#what-are-special-interest-groups\"></a>What are Special Interest Groups?</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>If you follow the developer mailing list,\nyou may have seen the discussion about introducing SIGs\nin the Jenkins project.\nThe SIG model has been proposed by\n<a href=\"https://github.com/rtyler\">R. Tyler Croy</a>,\nand it largely follows the successful\n<a href=\"https://github.com/kubernetes/community/blob/master/sig-list.md\">Kubernetes SIG</a> model.\nThe objective of these SIGs is to make the community more transparent to contributors\nand to offer venues for specific discussions.\nThe idea of SIGs and how to create them is documented in\n<a href=\"https://github.com/jenkinsci/jep/blob/master/jep/4/README.adoc\">JEP-4</a>.\nJEP-4 is still in Draft state, but a few SIGs have been already created using that process:\n<a href=\"/sigs/platform\">Platform SIG</a>, <a href=\"/sigs/gsoc\">GSoC SIG</a> and, finally,\n<a href=\"/sigs/cloud-native\">Cloud Native SIG</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>SIGs are a big opportunity to the Jenkins project,\noffering a new way to onboard contributors who are interested only in particular aspects of Jenkins.\nWith SIGs they can subscribe to particular topics without\nfollowing the entire Developer mailing list which can become pretty buzzy nowadays.\nIt also offers company contributors a clear way how to join community and participate in specific areas.\nThis is great for larger projects which cannot be done by a single contributor.\nLike JEPs, SIGs help focus and coordinate efforts.</p>\n</div>\n<div class=\"paragraph\">\n<p>And, back to major efforts&#8230;&#8203;\nLack of resources among core contributors was one of the reasons\nwhy we did not deliver on Pluggable Storage stories back in 2016.\nI believe that SIGs can help fix that in Jenkins,\nmaking it easier to find groups with the same interests and\nreach out to them in order to organize activity.\nRegular meetings are also helpful to get such efforts moving.</p>\n</div>\n<div class=\"paragraph\">\n<p>Points above are the main reasons why I joined the Cloud Native SIG.\nSimilarly, that&#8217;s why I decided to create a <a href=\"/sigs/platform\">Platform SIG</a>\nto deliver on major efforts like Java 10+ support in Jenkins.\nI hope that more SIGs get created soon so that contributors could focus on areas of their interest.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"cloud-native-sig\"><a class=\"anchor\" href=\"#cloud-native-sig\"></a>Cloud Native SIG</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>In the original proposal <a href=\"https://github.com/csanchez\">Carlos Sanchez</a>,\nthe Cloud Native SIG chair, has described the purpose of the SIG well.\nThere has been great progress this year in cloud-native-minded projects like Jenkins X and Jenkins Evergreen,\nbut the current Jenkins architecture does not offer particular\nfeatures which could be utilized there:\nPluggable Storage, High Availability, etc.\nThere are ways to achieve it using Jenkins plugins and some infrastructure tweaks,\nbut it is far from the out-of-the-box experience.\nIt complicates Jenkins management and slows down development of new cloud-native solutions for Jenkins.</p>\n</div>\n<div class=\"paragraph\">\n<p>So, what do I expect from the SIG?</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Define roadmap towards Cloud-Native Jenkins architecture\nwhich will help the project to stay relevant for Cloud Native installations</p>\n</li>\n<li>\n<p>Provide a venue for discussion of critical Jenkins architecture changes</p>\n</li>\n<li>\n<p>Act as a steering committee for Jenkins Enhancement Proposals in the area of\nCloud-Native solutions</p>\n</li>\n<li>\n<p>Finally, coordinate efforts between contributors and get new\ncontributors onboard</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"whats-next-in-the-sig\"><a class=\"anchor\" href=\"#whats-next-in-the-sig\"></a>What&#8217;s next in the SIG?</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The SIG agenda is largely defined by the SIG participants.\nIf you are interested to discuss particular topics,\njust propose them in the SIG mailing list.\nAs the current <a href=\"/sigs/cloud-native\">SIG page</a> describes,\nthere are several areas defined as initial topics:\n<em>Artifact Storage</em>,\n<em>Log Storage</em>,\n<em>Configuration Storage</em></p>\n</div>\n<div class=\"paragraph\">\n<p>All these topics are related to the Pluggable Storage Area,\nand the end goal for them is to ensure that all data is externalized\nso that replication becomes possible.\nIn addition to the mentioned data types,\ndiscussed at the <a href=\"https://docs.google.com/document/d/1sE6BxkUpKCbII-lV-tC_rE97Qqi7jUF_7QJpX0lRZ2Q/edit#heading=h.2yu40cilzo7z\">Jenkins World 2016 summit</a>,\nwe will need to externalize other data types:\n<em>Item and Run storage</em>,\n<em>Fingerprints</em>,\n<em>Test and coverage results</em>,\netc.\nThere is some foundation work being done for that.\nFor example, <a href=\"https://github.com/cizezsy\">Shenyu Zheng</a> is working on a\n<a href=\"/projects/gsoc/2018/code-coverage-api-plugin/\">Code Coverage API plugin</a>\nwhich would allow to unify the code coverage storage formats in Jenkins.</p>\n</div>\n<div class=\"paragraph\">\n<p>Once the Pluggable Storage stories are done the next steps are true High Availability, rolling or canary upgrades and zero downtime.\nAt that point other foundation stories like <a href=\"/projects/gsoc/2018/remoting-over-message-bus/\">Remoting over Kafka</a>\nby <a href=\"https://github.com/pvtuan10\">Pham Vu Tuan</a>\nmight be integrated into the Cloud Native architecture to make Jenkins more robust against outages within the cluster.\nIt will take some time to get to this state, but it can be done incrementally.</p>\n</div>\n<div class=\"paragraph\">\n<p>Let me briefly summarize current state of the 3 focuses listed in the Cloud Native SIG.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"artifact-storage\"><a class=\"anchor\" href=\"#artifact-storage\"></a>Artifact Storage</h3>\n<div class=\"paragraph\">\n<p>There are many existing plugins allowing to upload and download artifacts from external storage\n(e.g. S3, Artifactory, Publish over SFTP, etc., etc.),\nbut there are no plugins which can do it transparently without using\nnew steps.\nIn many cases the artifacts also get uploaded through the controller,\nand it increases load on the system.\nIt would be great if there was a layer which would allow storing artifacts externally\nwhen using common steps like <em>Archive Artifacts</em>.</p>\n</div>\n<div class=\"paragraph\">\n<p>Artifact storage work was started this spring by Jesse Glick, Carlos Sanchez and\n<a href=\"https://github.com/kuisathaverat\">Ivan Fernandez Calvo</a>\nbefore the Cloud Native SIG was actually founded.\nCurrent state:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/jenkinsci/jep/blob/master/jep/202/README.adoc\">JEP-202 \"External Artifact Storage\"</a>\nhas been proposed in the Jenkins community.\nThis JEP defines API changes in the Jenkins core which are needed to\nsupport External artifact managers</p>\n</li>\n<li>\n<p>Jenkins Pipeline has been updated to support external artifact storages\nfor <code>archive</code>/<code>unarchive</code> and <code>stash</code>/<code>unstash</code></p>\n</li>\n<li>\n<p>New <a href=\"https://plugins.jenkins.io/artifact-manager-s3\">Artifact Manager for S3 plugin</a>\nreference implementation of the new API.\nThe plugin is available in main Jenkins update centers</p>\n</li>\n<li>\n<p>A number of plugins has been updated in order to support\nexternal artifact storage</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>The Artifact Manager API is available in Jenkins LTS starting from 2.121.1,\nso it is possible to create new implementations using the provided API and\nexisting implementations.\nThis new feature is fully backward compatible with the default Filesystem-based storage,\nbut there are known issues for plugins explicitly relying on artifact locations in <code>JENKINS_HOME</code>\n(you can find a list of such plugins\n<a href=\"https://github.com/jenkinsci/jep/blob/master/jep/202/README.adoc#file-oriented-artifact-reference\">here</a>).\nIt will take a while to get all plugins supported,\nbut the new API in the core should allow migrating plugins.</p>\n</div>\n<div class=\"paragraph\">\n<p>I hope we will revisit the External Artifact Storage at the SIG meetings at some point.\nIt would be a good opportunity to do a retrospective and to understand how to improve the process\nin SIG.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"log-storage\"><a class=\"anchor\" href=\"#log-storage\"></a>Log storage</h3>\n<div class=\"paragraph\">\n<p>Log storage is a separate big story.\nBack in 2016 External logging was one of the key Pluggable Storage stories we defined at the contributor summit.\nWe created an EPIC for the story (<a href=\"https://issues.jenkins.io/browse/JENKINS-38313\">JENKINS-38313</a>)\nand after that created a number of prototypes together with\n<a href=\"https://github.com/xyan0607\">Xing Yan</a> and Jesse Glick.\nOne of these prototypes for Pipeline has recently been updated and published\n<a href=\"https://github.com/jenkinsci/custom-war-packager/tree/master/demo/external-logging-elasticsearch\">here</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>Jesse Glick and Carlos Sanchez\nare returning to this story and plan to discuss it within the Cloud Native SIG.\nThere are a number of Jenkins Enhancement proposals which have been submitted recently:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>jep:207[] -\nExternal Build Logging support in the Jenkins Core</p>\n</li>\n<li>\n<p>jep:210[] -\nExternal log storage for Pipeline</p>\n</li>\n<li>\n<p>jep:212[] -\nExternal Logging API Plugin</p>\n</li>\n<li>\n<p>jep:206[] -\nUse UTF-8 for Pipeline build logs</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>In the linked documents you can find references to current reference implementations.\nSo far we have a working prototype for the new design.\nThere are still many bits to fix before the final release,\nbut the designs are ready for review and feedback.</p>\n</div>\n<div class=\"paragraph\">\n<p>This Tuesday (Jul 31) we are going to have a SIG meeting in order to present the current state and to discuss the proposed designs and JEPs.\nThe meeting will happen at 3PM UTC.\nYou can watch the broadcast using <a href=\"https://www.youtube.com/watch?v=9lTOtC9wA_I\">this link</a>.\nParticipant link will be posted in the SIGs Gitter channel 10 minutes before the meeting.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"configuration-storage\"><a class=\"anchor\" href=\"#configuration-storage\"></a>Configuration storage</h3>\n<div class=\"paragraph\">\n<p>This is one of the future stories we would like to consider.\nAlthough configurations are not big, externalizing them is a critical task\nfor getting highly-available or disposable Jenkins controllers.\nThere are many ways to store configurations in Jenkins,\nbut 95% of cases are covered by the <code>XmlFile</code> layer which\nserializes objects to disk and reads them using the XStream library.\nExternalizing these <code>XmlFile</code>s would be a great step forward.</p>\n</div>\n<div class=\"paragraph\">\n<p>There are several prototypes for externalizing configurations,\ne.g. in DotCI.\nThere are also other implementations which could be upstreamed to the Jenkins core:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/deep\">Alex Nordlund</a> has recently proposed a\n<a href=\"https://github.com/jenkinsci/jenkins/pull/3393\">pull request</a>\nto Jenkins Core, which should make the XML Storage pluggable</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jstrachan\">James Strachan</a> has implemented similar engine\nfor Kubernetes in the <a href=\"https://github.com/jstrachan/jenkins/tree/kubeify\">kubeify</a> prototype</p>\n</li>\n<li>\n<p>I also did some experiments with externalizing XML Storages back in 2016</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>The next steps for this story would be to aggregate implementations into a single JEP.\nI have it in my queue, and I hope to write up a design once we get more clarity on the External logging stories.</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"conclusions\"><a class=\"anchor\" href=\"#conclusions\"></a>Conclusions</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Special Interest Groups are a new format for collaboration and disucssion in the Jenkins community.\nAlthough we have had some work groups before (Infrastructure, Configuration-as-Code, etc.),\nintroduction of SIGs sets a new bar in terms of the project transparency and consistency.\nMajor architecture changes in Jenkins are needed to ensure its future in the new environments,\nand SIGs will help to boost visibility and participation around these changes.</p>\n</div>\n<div class=\"paragraph\">\n<p>If you want to know more about the Cloud Native SIG,\nall resources are listed on the <a href=\"/sigs/cloud-native\">SIG&#8217;s page on jenkins.io</a>.\nIf you want to participate in the SIG&#8217;s activities, just do the following:</p>\n</div>\n<div class=\"olist arabic\">\n<ol class=\"arabic\">\n<li>\n<p>Subscribe to the <a href=\"https://groups.google.com/forum/#!forum/jenkins-cloud-native-sig\">mailing list</a></p>\n</li>\n<li>\n<p>Join our <a href=\"https://gitter.im/jenkinsci/cloud-native-sig\">Gitter channel</a></p>\n</li>\n<li>\n<p>Join our public meetings</p>\n</li>\n</ol>\n</div>\n<div class=\"paragraph\">\n<p>I am also working on organizing a face-to-face Cloud Native SIG meeting at the\n<a href=\"/blog/2018/07/25/contributor-summit/\">Jenkins Contributor Summit</a>,\nwhich will happen on September 17 during\n<a href=\"https://www.cloudbees.com/devops-world/san-francisco\">DevOps World | Jenkins World</a> in San Francisco.\nIf you come to DevOps World | Jenkins World,\nplease feel free to join us at the contributor summit or to meet us at the community booth.\nTogether with Jesse and Carlos we are also going to present some bits of our work at the\n<a href=\"https://sched.co/F9NT\">A Cloud Native Jenkins</a> talk.</p>\n</div>\n<div class=\"paragraph\">\n<p>Stay tuned for more updates and demos on the Cloud-Native Jenkins fronts!</p>\n</div>\n</div>\n</div>","id":"3f5d0df0-bf7b-55f9-bbfe-fd861133015d","title":"Introducing Jenkins Cloud Native SIG","date":"2018-07-30T00:00:00.000Z","slug":"/blog/2018/07/30/introducing-cloud-native-sig/","links":{"discourse":""},"authors":[{"avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#b8c8e8","images":{"fallback":{"src":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/bf8e1/oleg_nenashev.png","srcSet":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/914ee/oleg_nenashev.png 32w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/1c9ce/oleg_nenashev.png 64w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/bf8e1/oleg_nenashev.png 128w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/acb7c/oleg_nenashev.png 256w","sizes":"(min-width: 128px) 128px, 100vw"},"sources":[{"srcSet":"/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/ef6ff/oleg_nenashev.webp 32w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/8257c/oleg_nenashev.webp 64w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/6766a/oleg_nenashev.webp 128w,\n/gatsby-jenkins-io/static/611f92ce782a36a3a1454a29c79753db/22bfc/oleg_nenashev.webp 256w","type":"image/webp","sizes":"(min-width: 128px) 128px, 100vw"}]},"width":128,"height":128}}},"blog":"https://oleg-nenashev.github.io/","github":"oleg-nenashev","html":"<div class=\"paragraph\">\n<p>Jenkins core maintainer and board member, open source software and open hardware advocate, TOC chair in the Continuous Delivery Foundation.\nOleg started using Hudson for Hardware/Embedded projects in 2008 and became an active Jenkins contributor in 2012.\nNowadays he maintains [Jenkinsfile Runner](<a href=\"https://github.com/jenkinsci/jenkinsfile-runner/\" class=\"bare\">https://github.com/jenkinsci/jenkinsfile-runner/</a>),\ncontributes to several Jenkins <a href=\"/sigs\">SIGs</a> and outreach programs (<a href=\"/projects/gsoc\">Google Summer of Code</a>, <a href=\"/events/hacktoberfest\">Hacktoberfest</a>)\nand organizes <a href=\"/projects/jam/\">Jenkins meetups</a> in Switzerland and Russia.\nOleg works on open source programs and [Keptn](<a href=\"https://keptn.sh/\" class=\"bare\">https://keptn.sh/</a>) at the [Dynatrace](<a href=\"https://dynatrace.com\" class=\"bare\">https://dynatrace.com</a>), Open Source Program Office.</p>\n</div>","id":"oleg_nenashev","irc":"oleg_nenashev","linkedin":"onenashev","name":"Oleg Nenashev","slug":"/blog/authors/oleg_nenashev","twitter":"oleg_nenashev"}]}},"pageContext":{"next":"/blog/2018/08/06/serverless-cicd-jenkins/","previous":"/blog/2018/07/25/contributor-summit/","id":"3f5d0df0-bf7b-55f9-bbfe-fd861133015d"}},
    "staticQueryHashes": ["1271460761","3649515864"]}