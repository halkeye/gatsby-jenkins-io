{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2018/01/21/overhaul-of-manage-jenkins-page/",
    "result": {"data":{"blog":{"html":"<div class=\"sect1\">\n<h2 id=\"overview\"><a class=\"anchor\" href=\"#overview\"></a>Overview</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Recently some UI improvements around the Manage Jenkins page have been introduced. The visual changes are very subtle but behind them, there are interesting benefits.</p>\n</div>\n<div class=\"paragraph\">\n<p>Some of the goals that we have tried to achieve:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Applying a <a href=\"https://en.wikipedia.org/wiki/Semantic_HTML\">semantic HTML</a></p>\n</li>\n<li>\n<p>Removing the <code>&lt;table&gt;</code> tag usage for implementing layouts and content structures. Read this <a href=\"https://www.hotdesign.com/seybold\">article</a> if you want to know reasons and/or arguments.</p>\n</li>\n<li>\n<p>Small re-styling focused on spacing, margins, composition, etc..</p>\n</li>\n<li>\n<p>Accessibility</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>In order to provide a quick overview of the visual changes, let&#8217;s take a look at these screenshots.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"system-tray-with-administrative-messages-before\"><a class=\"anchor\" href=\"#system-tray-with-administrative-messages-before\"></a>System tray with administrative messages (before)</h3>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-01-15-JENKINS-43786/JENKINS-43786_3-before.png\" alt=\"JENKINS 43786 3 before\"></span></p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"system-tray-with-administrative-messages-after\"><a class=\"anchor\" href=\"#system-tray-with-administrative-messages-after\"></a>System tray with administrative messages (after)</h3>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-01-15-JENKINS-43786/JENKINS-43786_2.png\" alt=\"JENKINS 43786 2\"></span></p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"manage-jenkins-page-before\"><a class=\"anchor\" href=\"#manage-jenkins-page-before\"></a>Manage Jenkins page (before)</h3>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-01-15-JENKINS-43786/JENKINS-43786_4-before.png\" alt=\"JENKINS 43786 4 before\"></span></p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"manage-jenkins-page-after\"><a class=\"anchor\" href=\"#manage-jenkins-page-after\"></a>Manage Jenkins page (after)</h3>\n<div class=\"paragraph\">\n<p><span class=\"image center\"><img src=\"/images/post-images/2018-01-15-JENKINS-43786/JENKINS-43786_1.png\" alt=\"JENKINS 43786 1\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p>Information about how this change can affect the current implementations of <a href=\"https://jenkins.io/doc/developer/extensions/jenkins-core/#administrativemonitor\">Administrative Monitors</a> can be found in the following section</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"for-core-developers\"><a class=\"anchor\" href=\"#for-core-developers\"></a>For core developers</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Let&#8217;s use a real example for showing how this proposal works.</p>\n</div>\n<div class=\"paragraph\">\n<p>This is the original UI implementation of <code>HudsonHomeDiskUsageMonitor.java</code>:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-html\" data-lang=\"html\">&lt;?jelly escape-by-default='true'?&gt;\n&lt;j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"/lib/layout\" xmlns:t=\"/lib/hudson\" xmlns:f=\"/lib/form\"&gt;\n  &lt;div class=\"warning\"&gt;\n    &lt;form method=\"post\" action=\"${rootURL}/${it.url}/act\" name=\"${it.id}\"&gt;\n      &lt;div style=\"float:right\"&gt;\n        &lt;f:submit name=\"yes\" value=\"${%Tell me more}\"/&gt;\n        &lt;f:submit name=\"no\" value=\"${%Dismiss}\"/&gt;\n      &lt;/div&gt;\n      ${%blurb(app.rootDir)}\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>And this is the proposed change:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-html\" data-lang=\"html\">&lt;?jelly escape-by-default='true'?&gt;\n&lt;j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"/lib/layout\" xmlns:t=\"/lib/hudson\" xmlns:f=\"/lib/form\"&gt;\n&lt;div class=\"alert alert-warning\"&gt;\n  &lt;form method=\"post\" action=\"${rootURL}/${it.url}/act\" name=\"${it.id}\"&gt;\n    &lt;f:submit name=\"yes\" value=\"${%Tell me more}\"/&gt;\n    &lt;f:submit name=\"no\" value=\"${%Dismiss}\"/&gt;\n  &lt;/form&gt;\n  ${%blurb(app.rootDir)}\n&lt;/div&gt;\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Some highlights:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>No more ad hoc UI compositions</p>\n</li>\n<li>\n<p>No more custom CSS classes when Jenkins project is already using <a href=\"https://getbootstrap.com\">Bootstrap</a> for many different things</p>\n</li>\n<li>\n<p>Based on <a href=\"https://getbootstrap.com/docs/3.3/components/#alerts\">Bootstrap Alert</a></p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>All administrative monitors defined in Jenkins core have been adapted as part of this proposal.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"for-plugin-developers\"><a class=\"anchor\" href=\"#for-plugin-developers\"></a>For plugin developers</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>No changes are <em>really</em> needed, but we do recommend you to adapt your plugins to this proposal so Jenkins users have a better user experience.</p>\n</div>\n<div class=\"paragraph\">\n<p>Taking into account that you want to keep backward compatibility, you will need some changes.</p>\n</div>\n<div class=\"paragraph\">\n<p>In your implementation of <a href=\"https://jenkins.io/doc/developer/extensions/jenkins-core/#administrativemonitor\">Administrative Monitor</a>, add this helper method:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-java\" data-lang=\"java\">/**\n * This method can be removed when the baseline is updated to 2.103\n *\n * @return If this version of the plugin is running on a Jenkins version where JENKINS-43786 is included.\n */\n @Restricted(DoNotUse.class)\n public boolean isTheNewDesignAvailable() {\n    if (Jenkins.getVersion().isNewerThan(new VersionNumber(\"2.103\"))) {\n        return true;\n    }\n    return false;\n}</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>In your view (a.k.a. Jelly file or Groovy file):</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight nowrap\"><code class=\"language-html\" data-lang=\"html\">&lt;?jelly escape-by-default='true'?&gt;\n&lt;j:jelly xmlns:j=\"jelly:core\"&gt;\n\n&lt;j:if test=\"${!it.isTheNewDesignAvailable}\"&gt;\n&lt;div class=\"warning\"&gt;\n  &lt;p&gt;SSH Host Key Verifiers are not configured for all SSH agents on this Jenkins instance. This could leave these agents open to man-in-the-middle attacks. &lt;a href=\"${rootURL}/computer/\"&gt;Update your agent configuration&lt;/a&gt; to resolve this.&lt;/p&gt;\n&lt;/div&gt;\n&lt;/j:if&gt;\n\n&lt;j:if test=\"${it.isTheNewDesignAvailable}\"&gt;\n&lt;div class=\"alert alert-warning\"&gt;\n    SSH Host Key Verifiers are not configured for all SSH agents on this Jenkins instance. This could leave these agents open to man-in-the-middle attacks. &lt;a href=\"${rootURL}/computer/\"&gt;Update your agent configuration&lt;/a&gt; to resolve this.\n&lt;/div&gt;\n&lt;/j:if&gt;\n\n&lt;/j:jelly&gt;</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>If you don&#8217;t want to keep a <em>strict</em> backward compatibility, the impact is minimal. In fact, you can see an <a href=\"https://github.com/jenkinsci/github-plugin/pull/177#issuecomment-337266953\">example</a> on GitHub Plugin.</p>\n</div>\n<div class=\"paragraph\">\n<p>Some helpful references:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://issues.jenkins.io/browse/JENKINS-43786\">JIRA issue</a> where the proposal was tracked</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/jenkins/pull/2857\">Pull Request</a> with the change in Jenkins core. You can find several screenshots</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/ssh-slaves-plugin/pull/70\">Pull Request</a> for adapting SSH Agent Plugin</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>Do not hesitate to <a href=\"https://github.com/recena\">ping me</a> if you decide to adapt your Administrative Monitors.</p>\n</div>\n</div>\n</div>","id":"4b83704c-93fe-50dd-86b2-f971dac01a43","title":"Overhaul of Manage Jenkins page","date":"2018-01-21T00:00:00.000Z","slug":"/blog/2018/01/21/overhaul-of-manage-jenkins-page/","links":{"discourse":""},"authors":[{"avatar":null,"blog":null,"github":"recena","html":"","id":"recena","irc":null,"linkedin":null,"name":"Manuel Recena","slug":"/blog/author/recena","twitter":null}]}},"pageContext":{"next":"/blog/2018/01/26/fosdem-hackaton/","previous":"/blog/2018/01/17/jenkins-world-cfp-open/","id":"4b83704c-93fe-50dd-86b2-f971dac01a43"}},
    "staticQueryHashes": ["1271460761","3649515864"]}