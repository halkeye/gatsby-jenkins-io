{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/blog/2017/01/10/jenkins-lifx-notifier-plugin/",
    "result": {"data":{"blog":{"html":"<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\"></i>\n</td>\n<td class=\"content\">\n<div class=\"paragraph\">\n<p>This is a\n<a href=\"http://vgaidarji.me/blog/2017/01/02/jenkins-lifx-notifier-plugin/\">cross\npost</a> by <a href=\"https://github.com/vgaidarji\">Veaceslav Gaidarji</a>, open source\ndeveloper and contributor to the Jenkins and Bitrise projects.</p>\n</div>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>Some time ago I encountered a <a href=\"https://www.lifx.com\">LIFX</a> smart bulbs.\nThese are the bulbs with a chip inside - 50% bulb, 50% chip. There are mobile\napplications for easy configuration and remote control of the bulb. Nothing\nspecial here, it simply works and is very convenient to have such bulbs in\ndormitory.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"brilliant-idea-time\"><a class=\"anchor\" href=\"#brilliant-idea-time\"></a>Brilliant idea time</h3>\n<div class=\"quoteblock\">\n<blockquote>\n<div class=\"paragraph\">\n<p>99% of ideas which come to our minds either were already implemented by someone\nelse or they are useless.</p>\n</div>\n</blockquote>\n<div class=\"attribution\">\n&#8212; Veaceslav Gaidarji\n</div>\n</div>\n<div class=\"paragraph\">\n<p>And as it always happens, the developer inside me generated an idea which, as\nit always happens, was implemented by someone else already.</p>\n</div>\n<div class=\"paragraph\">\n<p>The idea was: to connect a LIFX bulb to Jenkins server and update the color\naccording to a job&#8217;s state.</p>\n</div>\n<div class=\"paragraph\">\n<p>Before starting to work on such Jenkins plugin, I searched for similar projects\non Google and the first links pointed me to existing\n<a href=\"https://plugins.jenkins.io/lifx-notifier\">LIFX notifier plugin</a>\nand a\n<a href=\"https://www.cloudbees.com/blog/lifx-smart-lightbulb-build-notifier-plugin\">blog post</a>\nfrom\n<a href=\"https://github.com/michaelneale\">Michael Neale</a>\n who created the plugin. Michael&#8217;s post describes exactly what I had in mind.</p>\n</div>\n<div class=\"paragraph\">\n<p>At this point I had 2 options:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><strong>forget</strong> about building something new and just use the plugin</p>\n</li>\n<li>\n<p><strong>improve</strong> existing plugin</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>First option is always easy and effortless, but second one is more challenging.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"improving-an-existing-plugin\"><a class=\"anchor\" href=\"#improving-an-existing-plugin\"></a>Improving an existing plugin</h3>\n<div class=\"paragraph\">\n<p>The existing <a href=\"https://plugins.jenkins.io/lifx-notifier\">LIFX notifier plugin</a>\ndid its job really well and I was able to connect my bulb to Jenkins and test\nit. But it wasn&#8217;t complete and had no configurable at all, therefore no\npossibility to change the colors.</p>\n</div>\n<div class=\"paragraph\">\n<p>First, I read Jenkins contribution guidelines, which\n<a href=\"https://wiki.jenkins.io/display/JENKINS/Hosting+Plugins#HostingPlugins-Requesthosting\">encourage</a>\ndevelopers to improve existing plugins (if any) and not create other versions\nof plugins with similar functionality. Then I contacted the plugin author, Michael Neale,\nvia email and kindly asked for the contributor access in GitHub\nfor the existing plugin version. After a short discussion about my plans on this\nplugin, Michael added me as a contributor to GitHub\n<a href=\"https://github.com/jenkinsci/lifx-notifier-plugin\">repo</a> and wished me\ngood luck. Thanks Michael!</p>\n</div>\n<div class=\"paragraph\">\n<p>I wanted to improve the LIFX notifier plugin to add the ability\ncustomize the colors (<code>in progress</code>, <code>build success</code> and <code>build failure</code>). This\nis not a hard task actually.\nA <a href=\"https://wiki.jenkins.io/display/JENKINS/Plugins\">1000+</a> plugins were\ndeveloped for Jenkins by the hackers like me, which means that I should have no\nproblem to do it as well.\nFortunately for me, I have used some plugins already which had a UI similar to\nthat I had planned to add to the LIFX notifier, such as:</p>\n</div>\n<div class=\"olist arabic\">\n<ol class=\"arabic\">\n<li>\n<p><a href=\"https://github.com/jenkinsci/hockeyapp-plugin\">HockeyApp</a> plugin</p>\n</li>\n<li>\n<p><a href=\"https://github.com/jenkinsci/fabric-beta-publisher-plugin\">Fabric Beta publisher</a> plugin</p>\n</li>\n<li>\n<p>Different <a href=\"https://wiki.jenkins.io/display/JENKINS/Plugins#Plugins-Buildnotifiers\">Build notifiers</a> plugins</p>\n</li>\n</ol>\n</div>\n<div class=\"paragraph\">\n<p>Reviewing the code for these plugins, plus Jenkins\n<a href=\"https://wiki.jenkins.io/display/JENKINS/Plugin+tutorial\">plugin\ndevelopment documentation</a>, and of course looking over\n<a href=\"https://commons.apache.org/proper/commons-jelly/\">Jelly components</a> helped\nme to:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Better understand the Jenkins architecture.</p>\n</li>\n<li>\n<p>Learn how Jenkins plugins work in general.</p>\n</li>\n<li>\n<p>Learn how to create the UI components for a plugin.</p>\n</li>\n<li>\n<p>Learn how to subscribe to Jenkins job state changes using appropriate\nextension points.</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>In a few weeks I&#8217;ve finished my plugin modifications and added unit tests for\nits major parts.  As a result, the plugin now has a UI configuration section in\n<code>Post-build Actions</code> which is self descriptive:</p>\n</div>\n<div class=\"imageblock center\">\n<div class=\"content\">\n<img src=\"/images/post-images/2017-01-02/plugin-configuration.png\" alt=\"plugin configuration\">\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The last step was to prepare new plugin version and publish it to the world!\nThe Jenkins\n<a href=\"https://wiki.jenkins.io/display/JENKINS/Hosting+Plugins\">\"Hosting\nplugins\"</a> document describes step by step process of how to publish a plugin.</p>\n</div>\n<div class=\"admonitionblock caution\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-caution\" title=\"Caution\"></i>\n</td>\n<td class=\"content\">\n<div class=\"paragraph\">\n<p><strong>This includes many steps which should be respected very carefully.</strong></p>\n</div>\n</td>\n</tr>\n</table>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"demo\"><a class=\"anchor\" href=\"#demo\"></a>Demo</h3>\n<div class=\"videoblock\">\n<div class=\"content\">\n<iframe src=\"https://www.youtube.com/embed/Zdtf8M5yCgM?rel=0\" frameborder=\"0\" allowfullscreen></iframe>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"what-ive-learned\"><a class=\"anchor\" href=\"#what-ive-learned\"></a>What I&#8217;ve learned</h3>\n<div class=\"paragraph\">\n<p>It was my first experience in Jenkins plugins development. I should say that\n<strong>steep learning curve is high enough</strong>, and sometimes is really hard to find\nanswers on appearing questions. But in general it&#8217;s all about <code>Java</code>, <code>XML</code>,\n<code>Maven</code> and <strong>it&#8217;s a lot of fun</strong> developing Jenkins plugins.</p>\n</div>\n<div class=\"paragraph\">\n<p>Check out the <a href=\"https://plugins.jenkins.io/lifx-notifier\">LIFX notifier page</a>\nfor more information about the latest releases!</p>\n</div>\n<hr>\n<div class=\"paragraph\">\n<p><strong>Bonus</strong>: <a href=\"https://bitrise.io\">bitrise.io</a> users, I&#8217;ve developed <a href=\"https://github.com/vgaidarji/steps-lifx-notifier\">step LIFX notifier</a> for bitrise as well.</p>\n</div>\n</div>","id":"ce9069d6-e9c4-5b3e-b147-2b3d3ac2f09d","title":"Learning plugin development by improving the LIFX notifier plugin","date":"2017-01-10T00:00:00.000Z","slug":"/blog/2017/01/10/jenkins-lifx-notifier-plugin/","links":{"discourse":""},"authors":[{"avatar":null,"blog":"http://vgaidarji.me","github":"vgaidarji","html":"<div class=\"paragraph\">\n<p>Veaceslav is a software developer with the main focus on Android platform.\nIn his free time, he enjoys working on different open-source projects.</p>\n</div>","id":"vgaidarji","irc":null,"linkedin":null,"name":"Veaceslav Gaidarji","slug":"/blog/author/vgaidarji","twitter":"v_gaidarji"}]}},"pageContext":{"next":"/blog/2017/01/10/security-warnings/","previous":"/blog/2016/12/31/what-a-year/","id":"ce9069d6-e9c4-5b3e-b147-2b3d3ac2f09d"}},
    "staticQueryHashes": ["1271460761","3649515864"]}